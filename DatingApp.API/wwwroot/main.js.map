{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_guards/auth.guard.ts","webpack:///./src/app/_guards/prevent-unsaved-changes.guard.ts","webpack:///./src/app/_models/pagination.ts","webpack:///./src/app/_resolver/lists.resolver.ts","webpack:///./src/app/_resolver/member-detail.resolver.ts","webpack:///./src/app/_resolver/member-edit.resolver.ts","webpack:///./src/app/_resolver/member-list.resolver.ts","webpack:///./src/app/_resolver/messages.resolver.ts","webpack:///./src/app/_services/alertify.service.ts","webpack:///./src/app/_services/auth.service.ts","webpack:///./src/app/_services/error.interceptor.ts","webpack:///./src/app/_services/user.service.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/home/home.component.css","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/list/list.component.css","webpack:///./src/app/list/list.component.html","webpack:///./src/app/list/list.component.ts","webpack:///./src/app/members/member-card/member-card.component.css","webpack:///./src/app/members/member-card/member-card.component.html","webpack:///./src/app/members/member-card/member-card.component.ts","webpack:///./src/app/members/member-detail/member-detail.component.css","webpack:///./src/app/members/member-detail/member-detail.component.html","webpack:///./src/app/members/member-detail/member-detail.component.ts","webpack:///./src/app/members/member-edit/member-edit.component.css","webpack:///./src/app/members/member-edit/member-edit.component.html","webpack:///./src/app/members/member-edit/member-edit.component.ts","webpack:///./src/app/members/member-list/member-list.component.css","webpack:///./src/app/members/member-list/member-list.component.html","webpack:///./src/app/members/member-list/member-list.component.ts","webpack:///./src/app/members/member-messages/member-messages.component.css","webpack:///./src/app/members/member-messages/member-messages.component.html","webpack:///./src/app/members/member-messages/member-messages.component.ts","webpack:///./src/app/members/photo-editor/photo-editor.component.css","webpack:///./src/app/members/photo-editor/photo-editor.component.html","webpack:///./src/app/members/photo-editor/photo-editor.component.ts","webpack:///./src/app/messages/messages.component.css","webpack:///./src/app/messages/messages.component.html","webpack:///./src/app/messages/messages.component.ts","webpack:///./src/app/nav/nav.component.css","webpack:///./src/app/nav/nav.component.html","webpack:///./src/app/nav/nav.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/routes.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private authService: AuthService, private router: Router,\r\n    private alertify: AlertifyService) { }\r\n\r\n  // We don't need ActivatedRouteSnapshot and RouterStateSnapshot so we can remove it\r\n  // AuthGuard implements CanActivate which will tell our route (defined in routes.ts)\r\n  // if we need to activate the route or not.\r\n  // It returns an Observable of type boolean, a Promise of type boolean, or simply a\r\n  // boolean.  If we see this return type where there are 'pipes' or 'bar' after the\r\n  // method name, we call it 'union type'.  As long as our return type is either of\r\n  // the three, then we are fine.\r\n  canActivate(): Observable<boolean> | Promise<boolean> | boolean {\r\n\r\n    // We need to check if the user has logged-in so we need the Auth service\r\n    if (this.authService.loggedIn()) {\r\n      return true;\r\n    }\r\n\r\n    this.alertify.error('You need to log-in!');\r\n\r\n    // We need to redirect the user if they are not logged-in so we will send them back\r\n    // to the home page\r\n    this.router.navigate(['/home']);\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate } from '@angular/router';\r\nimport { MemberEditComponent } from '../members/member-edit/member-edit.component';\r\n\r\n// This is configured as a provider in the app.module.ts\r\n// And also added as guard in the route.ts\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PreventUnsavedChangesGuard implements CanDeactivate<MemberEditComponent>{\r\n\r\n  // We will pass the component: since we need to access the\r\n  // @ViewChild('editForm') editForm: NgForm; declared in the member-edit.component.ts\r\n  // which is really pointing to the child \r\n  // <form #editForm=\"ngForm\" id=\"editForm\" (ngSubmit)=\"updateUser()\"> from the file\r\n  // member-edit.component.html\r\n  canDeactivate(component: MemberEditComponent) {\r\n    if (component.editForm.dirty) {\r\n      return confirm('Are you sure you want to continue? Any unsaved changes will be lost.');\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n}\r\n","export interface Pagination {\r\n  currentPage: number;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n}\r\n\r\n// Now that we have implemented pagination, we will now store the results\r\n// that we are getting from the GetUsers([FromQuery]UserParams userParams)\r\n// in two parts: we are going to have the user themselves and we gonna have\r\n// the pagination\r\n// But, for this class, we will make it a type of <T> to make it generic\r\n// so that we can use the same class when we will add pagination to messages\r\n// as well.\r\nexport class PaginatedResult<T> {\r\n  result: T;\r\n  pagination: Pagination;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ListsResolver implements Resolve<PaginatedResult<User[]>> {\r\n  pageNumber = 1;\r\n  pageSize = 5;\r\n  // Set the likesParams to 'Likers' which means return the list of users\r\n  // that likes the currently log-in user\r\n  likesParam = 'Likers';\r\n\r\n  constructor(private userService: UserService,\r\n    private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<User[]>> {\r\n    return this.userService.getUsers(this.pageNumber, this.pageSize,\r\n      null, this.likesParam).pipe(\r\n      catchError(error => {\r\n        this.alertify.error('Problem retrieving data');\r\n        this.router.navigate(['/home']);\r\n        return of(null);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n// This is a resolver that will return a single type of User\r\n// This is consumed by member-detail.component.ts as defined in the route.ts\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MemberDetailResolver implements Resolve<User>{\r\n\r\n  constructor(private userService: UserService, private router: Router,\r\n    private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n    // This automatically subscribe to the .getUser() method so we don't need to\r\n    // subscribe this ourselves.\r\n    return this.userService.getUser(+route.params['id'])\r\n      // We want to catch any errors that occur so that we can so that we can redirectly\r\n      // use a back and also get back of the method as well\r\n      .pipe(\r\n        catchError(error => {\r\n          this.alertify.error('Problem retrieving data');\r\n          // We will navigate them back to the /members page\r\n          this.router.navigate(['/members']);\r\n          // We will return an observable of type null by using the of() method from 'rxjs'\r\n          return of(null);\r\n        })\r\n      );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthService } from '../_services/auth.service';\r\n\r\n// This is a resolver that will return a single type of User\r\n// This is consumed by member-edit.component.ts as defined in the route.ts\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MemberEditResolver implements Resolve<User>{\r\n\r\n  constructor(private userService: UserService, private authService: AuthService,\r\n    private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<User> {\r\n    // This automatically subscribe to the .getUser() method so we don't need to\r\n    // subscribe this ourselves.\r\n    // This time, we will use the 'decodedToken' from auth.service.ts to get the\r\n    // user Id\r\n    return this.userService.getUser(this.authService.decodedToken.nameid)\r\n      // We want to catch any errors that occur so that we can so that we can redirectly\r\n      // use a back and also get back of the method as well\r\n      .pipe(\r\n        catchError(error => {\r\n          this.alertify.error('Problem retrieving your data');\r\n          // We will navigate them back to the /members page\r\n          this.router.navigate(['/members']);\r\n          // We will return an observable of type null by using the of() method from 'rxjs'\r\n          return of(null);\r\n        })\r\n      );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { User } from '../_models/user';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\n\r\n// This is a resolver that will return an array of type PaginatedResult<User[]>\r\n// This is consumed by member-list.component.ts as defined in the route.ts\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MemberListResolver implements Resolve<PaginatedResult<User[]>> {\r\n\r\n  pageNumber = 1;\r\n  pageSize = 6; // Setting is differently from our API for testing purposes\r\n\r\n  constructor(private userService: UserService, private router: Router,\r\n    private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<User[]>> {\r\n    // This automatically subscribe to the .getUsers() method so we don't need to\r\n    // subscribe this ourselves.\r\n    return this.userService.getUsers(this.pageNumber, this.pageSize)\r\n      // We want to catch any errors that occur so that we can so that we can redirectly\r\n      // use a back and also get back of the method as well\r\n      .pipe(\r\n        catchError(() => {\r\n          this.alertify.error('Problem retrieving data');\r\n          // We will navigate them back to the /home page\r\n          this.router.navigate(['/home']);\r\n          // We will return an observable of type null by using the of() method from 'rxjs'\r\n          return of(null);\r\n        })\r\n      );\r\n  }\r\n}\r\n","import { AuthService } from './../_services/auth.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { Resolve, Router, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { UserService } from '../_services/user.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { PaginatedResult } from '../_models/pagination';\r\nimport { Message } from '../_models/message';\r\n\r\n// This is a resolver that will return an array of type PaginatedResult<Message[]>\r\n// This is consumed by member-list.component.ts as defined in the route.ts\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MessagesResolver implements Resolve<PaginatedResult<Message[]>> {\r\n\r\n  pageNumber = 1;\r\n  pageSize = 6; // Setting is differently from our API for testing purposes\r\n  messageContainter = 'Unread'; // This match the API default value in the \\DatingApp.API\\Helpers\\MessageParams.cs\r\n\r\n  constructor(private userService: UserService, private authService: AuthService,\r\n    private router: Router, private alertify: AlertifyService) { }\r\n\r\n  resolve(route: ActivatedRouteSnapshot): Observable<PaginatedResult<Message[]>> {\r\n    // This automatically subscribe to the .getUsers() method so we don't need to\r\n    // subscribe this ourselves.\r\n    return this.userService.getMessages(this.authService.decodedToken.nameid,\r\n      this.pageNumber, this.pageSize, this.messageContainter)\r\n      // We want to catch any errors that occur so that we can so that we can redirectly\r\n      // use a back and also get back of the method as well\r\n      .pipe(\r\n        catchError(() => {\r\n          this.alertify.error('Problem retrieving messages.');\r\n          // We will navigate them back to the /home page\r\n          this.router.navigate(['/home']);\r\n          // We will return an observable of type null by using the of() method from 'rxjs'\r\n          return of(null);\r\n        })\r\n      );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n// SOURCE: https://alertifyjs.com/\r\n\r\n// Probably might get a TsLint warning if we don't declare alertify on top of the\r\n// file.  We don't really need to import it since we already imported it via\r\n// the angular.json file\r\ndeclare let alertify: any;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlertifyService {\r\n\r\n  constructor() { }\r\n\r\n  // This is our dialog box that says like 'Are you sure you want to do this ?'\r\n  // This is just a wrapper\r\n  // This will take a message as the first parameters and the second parameter\r\n  // is the okCallBack which is a function of type any that will be executed\r\n  // when the user clicks the OK button\r\n  confirm(message: string, okCallBack: () => any) {\r\n    alertify.confirm(message, function (e) {\r\n      // e here is the OK button that the user clicked\r\n      if (e) {\r\n        okCallBack();\r\n      } else {} // this is empty since we don't need to do anything if the user clicks cancel\r\n    });\r\n  }\r\n\r\n  success(message: string) {\r\n    alertify.success(message);\r\n  }\r\n\r\n  error(message: string) {\r\n    alertify.error(message);\r\n  }\r\n\r\n  warning(message: string) {\r\n    alertify.warning(message);\r\n  }\r\n\r\n  message(message: string) {\r\n    alertify.message(message);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// We can use this for any-to-any component communication through the use of the Services.\r\n// BehaviorSubject\r\n// * Is a type of subject (which is a type of Observable)\r\n// * Can be subscribed to\r\n// * Subscribers can receive updated results\r\n// * A subject is an observer (so we can send values to it)\r\n// * Needs an initial value (must always return a value on subscription)\r\n// * On subscription returns last value of subject\r\n// * Can use the getValue() method in no observable code\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { environment } from '../../environments/environment';\r\nimport { User } from '../_models/user';\r\n\r\n// This allows us to make the service injectible.  Components does not need this decorator\r\n// since components are automatically injectible.\r\n@Injectable({\r\n  // Any components that will use this service will tell it which module is providing the service.  In this\r\n  // case it is the root module with is the app.module.ts.  When we add a new service, then we need to\r\n  // add it on our app.module.ts under the providers:[] array.\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  // This is defined in the environment.ts\r\n  baseUrl = environment.apiUrl + 'auth/';\r\n\r\n  jwtHelper = new JwtHelperService();\r\n  decodedToken: any;\r\n  currentUser: User;\r\n\r\n  photoUrl = new BehaviorSubject<string>('../../assets/user.png');\r\n  // Making the this.currentPhotoUrl property 'asObservable' mean we are able to subscribe\r\n  // to this.currentPhotoUrl property and if this is updated, then ANY components\r\n  // subscribing to it gets updated too.  This is even if the application is refreshed,\r\n  // we log-in, we log-out, anything we do on any occasion the\r\n  // this.changeMemberPhoto(photoUrl: string)\r\n  // is going to be called, our photo url will be updated everywhere or any component\r\n  // that is subscribing to the this.currentPhotoUrl observable.\r\n  currentPhotoUrl = this.photoUrl.asObservable();\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  // This method will update the 'this.photoUrl' behavior subject\r\n  changeMemberPhoto(photoUrl: string) {\r\n    // This will update the value of the this.photoUrl instead of\r\n    // the default which is '../../assets/user.png'\r\n    if (photoUrl) {\r\n      this.photoUrl.next(photoUrl);\r\n    }\r\n  }\r\n\r\n  // This will take the model parameter that we have specified in the nav.component.ts\r\n  login(model: any) {\r\n    // Observable -- is a stream of data that is coming back from the server and in order\r\n    // get this observable data, we need to subscribe to it\r\n\r\n    // We will return an http POST with first parameter as the URL, second is the Body which we will send the\r\n    // model that will contain like\r\n    // {\r\n    //  \"Username\": \"john\",\r\n    //  \"Password\": \"password\"\r\n    // }\r\n    // and the third part is if we need to add options for this request like Headers.  Do we need add Headers\r\n    // for this specific request.  This is a post request and typically you might want to send Headers depending\r\n    // on the API you are using.  Since we are using ASP.NET CORE, it is expected to receive the content\r\n    // as application/json.  This is also the default header for Angular\r\n    // Since this just a log-in request, we don't need a third parameter.\r\n    // The response will return a token (as seen in Postman).  And in order to do Observable when it comes back\r\n    // from the server, we need to use rxjs operator.  We are using rxjs 6 for this course since we are using Angular 6.\r\n    return this.http.post(this.baseUrl + 'login', model)\r\n      // And in order to use rxjs map operators in Angular 6, we need to pass it through a pipe() method.\r\n      // This allows us to chain rxjs operators with our request\r\n      // We already know (from Postman), that we will get an object as a return for this request with 'token' as key and\r\n      // the actual token as value as defined in \\DatingApp.API\\Controllers\\AuthController.cs\r\n\r\n      // var token = tokenHandler.CreateToken(tokenDescriptor);\r\n      //  return Ok(new\r\n      //  {\r\n      //    token = tokenHandler.WriteToken(token)\r\n      //  });\r\n      .pipe(\r\n        // We are now using the rxjs map operator\r\n        // We will pass in the response\r\n        map((response: any) => {\r\n          // This will contain the token response\r\n          const responseUser = response;\r\n\r\n          if (responseUser) {\r\n            localStorage.setItem('token', responseUser.token);\r\n\r\n            // The .setItem second parameter accepts a string and what we are getting\r\n            // back from our API server is an object.  So, we will use JSON.stringify\r\n            // to convert the string into an object\r\n            localStorage.setItem('user', JSON.stringify(responseUser.user));\r\n            this.decodedToken = this.jwtHelper.decodeToken(responseUser.token);\r\n            this.currentUser = responseUser.user;\r\n            this.changeMemberPhoto(this.currentUser.photoUrl);\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  register(user: User) {\r\n    return this.http.post(this.baseUrl + 'register', user);\r\n  }\r\n\r\n  loggedIn() {\r\n    const token = localStorage.getItem('token');\r\n\r\n    // We will use a third party library called angular-jwt to manage the\r\n    // token we stored in the localStorage\r\n    // What we CANNOT DO is to validate the token since the key to validate the\r\n    // token is on the server \\DatingApp.API\\appsettings.json and we don't have\r\n    // access to that in the client application and we don't really need to do that\r\n    // in our client application since the client application is compiled into\r\n    // javascript and since javascript is run on the client-side, we don't want\r\n    // end-users to have access to the validation key\r\n\r\n    // Confusing names: angular 1 is renamed as angularjs\r\n    // and angular 2 is renamed as angular\r\n\r\n    // @auth0/angular-jwt: https://github.com/auth0/angular2-jwt and go for\r\n    // version 2.0.0\r\n\r\n    // If there is a value in this token, and is not expired,\r\n    // then it will return true else it will return false\r\n    return !this.jwtHelper.isTokenExpired(token);\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse, HTTP_INTERCEPTORS } from \"@angular/common/http\";\r\nimport { Observable, throwError } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\n@Injectable({\r\n  // Any components that will use this service will tell it which module is providing the service.  In this\r\n  // case it is the root module with is the app.module.ts.  When we add a new service, then we need to\r\n  // add it on our app.module.ts under the providers:[] array.\r\n  providedIn: 'root'\r\n})\r\nexport class ErrorInterceptor implements HttpInterceptor {  \r\n\r\n  // Intercept an outgoing  HttpRequest and optionally transform it or the response\r\n  // First parameter is the request parameter of type HttpRequest<any>\r\n  // Second parameter is the next parameter of type HttpHandler\r\n  // This will return an Observable that is having a return type of HttpEvent<any>\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    // We will return next and handle the request and then we need use the\r\n    // rxjs pipe because we want to use an rxjs operator which is the rxjs catchError\r\n    return next.handle(req).pipe(\r\n      catchError(error => {\r\n        // We will check what type of error\r\n        if (error instanceof HttpErrorResponse) {\r\n\r\n          // We will check if the error is a 401 - UnAuthorized error\r\n          if (error.status === 401) {\r\n            return throwError(error.statusText);\r\n          }\r\n\r\n          // We will check the application headers and get the application error\r\n          // that we have created in \\DatingApp.API\\Helpers\\Extensions.cs\r\n          // on the method AddApplicationError(this HttpResponse response, string message)\r\n          const applicationError = error.headers.get('Application-Error');\r\n\r\n          if (applicationError) {\r\n            console.error(applicationError);\r\n            // We will throw the error\r\n            // throwError is coming from rxjs and is of type Observable\r\n            return throwError(applicationError);\r\n          }\r\n\r\n          // We will check for server errors and this will go inside the\r\n          // HttpResponse          \r\n          const serverError = error.error;\r\n          // If it is a model state error, it will be of type object\r\n          // which is basically a key/value\r\n          let modalStateError = '';\r\n\r\n          if (serverError && typeof serverError === 'object') {\r\n            for (const key in serverError) {\r\n              if (serverError[key]) {\r\n                modalStateError += serverError[key] + '\\n';\r\n              }\r\n            }\r\n          }\r\n\r\n          return throwError(modalStateError || serverError || 'Server Error');\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\n// We need to create an error interceptor provider that we can later add to our\r\n// app.module.ts\r\nexport const ErrorInterceptorProvider = {\r\n  // Add an additional http interceptor to the existing Angular array\r\n  // of http interceptors\r\n  provide: HTTP_INTERCEPTORS,\r\n  useClass: ErrorInterceptor,\r\n  // Set to true since we don't want to replace this to our existing Angular array\r\n  // of interceptors but we need to add it.\r\n  multi: true\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../_models/user';\r\nimport { PaginatedResult } from '../_models/pagination';\r\nimport { map } from 'rxjs/operators';\r\nimport { Message } from '../_models/message';\r\n\r\n// When we will be doing a request from the API, we also need to send-up the\r\n// authorization token with the request.\r\n// The http.get() method can also take some options and inside the options can be the\r\n// headers like in Postman the 'Authorization' header\r\n\r\n// We will only need this if we don't configure JwtModule in app.module.ts\r\n\r\n// We will now create a header\r\n// const httpOptions = {\r\n//  headers: new HttpHeaders({\r\n//    // Do not forget the 'space' after the 'Bearer'\r\n//    'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n//  })\r\n// }\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  // This is defined in the environment.ts\r\n  baseUrl = environment.apiUrl;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getUsers(page?, itemsPerPage?, userParams?, likesParam?): Observable<PaginatedResult<User[]>> {\r\n\r\n    const paginatedResult: PaginatedResult<User[]> = new PaginatedResult<User[]>();\r\n\r\n    // This is query string the parameter that we are going to append when we will\r\n    // call the the UsersController.GetUsers([FromQuery]UserParams userParams) endpoint\r\n    let params = new HttpParams();\r\n\r\n    // These are the same fields we have created in the DatingApp.API.Helpers.UserParams\r\n    // class which is the parameter type in the UsersController.GetUsers([FromQuery]UserParams userParams)\r\n    // endpoint.  The UserParams class uses its default value PageNumber = 1 and\r\n    // PageSize = 10 if 'page' and 'itemsPerPage' are null\r\n    if (page != null && itemsPerPage != null) {\r\n      params = params.append('pageNumber', page);\r\n      params = params.append('pageSize', itemsPerPage);\r\n    }\r\n\r\n    // Check if we have userParams\r\n    if (userParams != null) {\r\n      params = params.append('minAge', userParams.minAge);\r\n      params = params.append('maxAge', userParams.maxAge);\r\n      params = params.append('gender', userParams.gender);\r\n      params = params.append('orderBy', userParams.orderBy);\r\n    }\r\n\r\n    // Check if we need to filter the users by Likers\r\n    if (likesParam === 'Likers') {\r\n      params = params.append('likers', 'true');\r\n    }\r\n\r\n    // Check if we need to filter the users by Likees\r\n    if (likesParam === 'Likees') {\r\n      params = params.append('likees', 'true');\r\n    }\r\n\r\n    // return this.http.get<User[]>(this.baseUrl + 'users/', httpOptions);\r\n    // return this.http.get<User[]>(this.baseUrl + 'users');\r\n    // We will now change what we are observing as part of the response\r\n    // By specifying observe: 'response', we will now have access to the full\r\n    // Http response and pass in the query string params.\r\n    // Since we are not getting only the body back we need to do something\r\n    // with the response by using .pipe which is a method that allows us access\r\n    // to the rxjs operators.  The rxjs operator we will be using is the map operator\r\n    // which applies a given project function to each value emitted by the source\r\n    // Observable, and emits the resulting values as an Observable.\r\n    return this.http.get<User[]>(this.baseUrl + 'users', { observe: 'response', params })\r\n      .pipe(\r\n        map(response => {\r\n          // We are getting the Users[] array from the body of the response\r\n          paginatedResult.result = response.body;\r\n          // We are also getting the pagination information from the response headers\r\n          // The headers returned by the UsersController.GetUsers([FromQuery]UserParams userParams)\r\n          // contains Pagination →{\"CurrentPage\":1,\"ItemsPerPage\":10,\"TotalItems\":14,\"TotalPages\":2}\r\n          // which is configured the DatingApp.API.Helpers.Extensions.AddPagination method\r\n          if (response.headers.get('Pagination') != null) {\r\n            paginatedResult.pagination = JSON.parse(response.headers.get('Pagination'));\r\n          }\r\n\r\n          return paginatedResult;\r\n        })\r\n      );\r\n  }\r\n\r\n  getUser(id): Observable<User> {\r\n    // return this.http.get<User>(this.baseUrl + 'users/' + id, httpOptions);\r\n    return this.http.get<User>(this.baseUrl + 'users/' + id);\r\n  }\r\n\r\n  updateUser(id: number, user: User) {\r\n    return this.http.put(this.baseUrl + 'users/' + id, user);\r\n  }\r\n\r\n  setMainPhoto(userId: number, id: number) {\r\n    // Since this is a post request, we are required to send a body.\r\n    // We will be sending an empty object {}\r\n    return this.http.post(this.baseUrl + 'users/' + userId +\r\n      '/photos/' + id + '/setMain', {});\r\n  }\r\n\r\n  deletePhoto(userId: number, id: number) {\r\n    return this.http.delete(this.baseUrl + 'users/' + userId +\r\n      '/photos/' + id);\r\n  }\r\n\r\n  sendLike(id: number, recipientId: number) {\r\n    // Since this is a post request, we are required to send a body.\r\n    // We will be sending an empty object {}\r\n    return this.http.post(this.baseUrl + 'users/' + id +\r\n      '/like/' + recipientId, {});\r\n  }\r\n\r\n  getMessages(id: number, page?, itemsPerPage?, messageContainer?) {\r\n    const paginatedResult: PaginatedResult<Message[]> = new PaginatedResult<Message[]>();\r\n\r\n    let params = new HttpParams();\r\n\r\n    params = params.append('MessageContainer', messageContainer);\r\n\r\n    // These are the same fields we have created in the DatingApp.API.Helpers.UserParams\r\n    // class which is the parameter type in the UsersController.GetUsers([FromQuery]UserParams userParams)\r\n    // endpoint.  The UserParams class uses its default value PageNumber = 1 and\r\n    // PageSize = 10 if 'page' and 'itemsPerPage' are null\r\n    if (page != null && itemsPerPage != null) {\r\n      params = params.append('pageNumber', page);\r\n      params = params.append('pageSize', itemsPerPage);\r\n    }\r\n\r\n    // We will now change what we are observing as part of the response\r\n    // By specifying observe: 'response', we will now have access to the full\r\n    // Http response and pass in the query string params.\r\n    // Since we are not getting only the body back we need to do something\r\n    // with the response by using .pipe which is a method that allows us access\r\n    // to the rxjs operators.  The rxjs operator we will be using is the map operator\r\n    // which applies a given project function to each value emitted by the source\r\n    // Observable, and emits the resulting values as an Observable.\r\n    return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages', { observe: 'response', params })\r\n      .pipe(\r\n        map(response => {\r\n          // We are getting the Users[] array from the body of the response\r\n          paginatedResult.result = response.body;\r\n          // We are also getting the pagination information from the response headers\r\n          // The headers returned by the UsersController.GetUsers([FromQuery]UserParams userParams)\r\n          // contains Pagination →{\"CurrentPage\":1,\"ItemsPerPage\":10,\"TotalItems\":14,\"TotalPages\":2}\r\n          // which is configured the DatingApp.API.Helpers.Extensions.AddPagination method\r\n          if (response.headers.get('Pagination') != null) {\r\n            paginatedResult.pagination = JSON.parse(response.headers.get('Pagination'));\r\n          }\r\n\r\n          return paginatedResult;\r\n        })\r\n      );\r\n  }\r\n\r\n  getMessageThread(id: number, recipientId: number) {\r\n    return this.http.get<Message[]>(this.baseUrl + 'users/' + id + '/messages/thread/' + recipientId);\r\n  }\r\n\r\n  sendMessage(id: number, message: Message) {\r\n    return this.http.post(this.baseUrl + 'users/' + id + '/messages', message);\r\n  }\r\n\r\n  deleteMessage(id: number, userId: number) {\r\n    return this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + id, {});\r\n  }\r\n\r\n  markAsRead(userId: number, messageId: number) {\r\n    this.http.post(this.baseUrl + 'users/' + userId + '/messages/' + messageId + '/read', {})\r\n    // We need to subscribe to this from the user service because we are not sending\r\n    // anything back in this case.  We just want to be a very simple method to mark\r\n    // individual message as read.  We will be calling this method inside the member-messages.component.ts\r\n    // because we want this to be executed each time the member messages tab is opened\r\n    // when the user clicks a particular message from their inbox or unread messages.\r\n    .subscribe();\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<app-nav></app-nav>\\r\\n\\r\\n<!--\\r\\n    When we click one of our router links as defined in the nav.component.html,\\r\\n    the <router-outlet> is automatically swapped for our component and our component\\r\\n    will be displayed.\\r\\n-->\\r\\n<router-outlet></router-outlet>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { User } from './_models/user';\r\n\r\n// A class decorated with a 'Component' is a Typescript class that has Angular-component features\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  jwtHelper = new JwtHelperService();\r\n\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    // This will prevent the 'Welcome <Username>' on the nav.component.html\r\n    // from showing blank once the user refreshes the page.\r\n    // The 'token' and 'user' is retrieved and stored in the localStored in the auth.service.ts\r\n    // in the login(model: any) method\r\n    const token = localStorage.getItem('token');\r\n\r\n    // We will use JSON.parse to turn a string into an object since 'user' is stored as string\r\n    const user: User = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (token) {\r\n      this.authService.decodedToken = this.jwtHelper.decodeToken(token);\r\n    }\r\n\r\n    if (user) {\r\n      this.authService.currentUser = user;\r\n      this.authService.changeMemberPhoto(user.photoUrl);\r\n    }\r\n  }\r\n}\r\n","// Node modules\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BsDropdownModule, TabsModule, BsDatepickerModule, PaginationModule, ButtonsModule } from 'ngx-bootstrap';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgxGalleryModule } from 'ngx-gallery';\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\nimport { JwtModule } from '@auth0/angular-jwt';\r\nimport { TimeAgoPipe } from 'time-ago-pipe';\r\n\r\n// Local components\r\nimport { AppComponent } from './app.component';\r\nimport { NavComponent } from './nav/nav.component';\r\nimport { AuthService } from './_services/auth.service';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ErrorInterceptorProvider } from './_services/error.interceptor';\r\nimport { AlertifyService } from './_services/alertify.service';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { ListComponent } from './list/list.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { appRoutes } from './routes';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { UserService } from './_services/user.service';\r\nimport { MemberCardComponent } from './members/member-card/member-card.component';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberDetailResolver } from './_resolver/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolver/member-list.resolver';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit.component';\r\nimport { MemberEditResolver } from './_resolver/member-edit.resolver';\r\nimport { PreventUnsavedChangesGuard } from './_guards/prevent-unsaved-changes.guard';\r\nimport { PhotoEditorComponent } from './members/photo-editor/photo-editor.component';\r\nimport { ListsResolver } from './_resolver/lists.resolver';\r\nimport { MessagesResolver } from './_resolver/messages.resolver';\r\nimport { MemberMessagesComponent } from './members/member-messages/member-messages.component';\r\n\r\n// Added a new way to handle the tokens using JwtModule.\r\n// We will get the token inside our app.module.ts, we will import the JwtModule\r\n// and we will configure it to send up the token for any domain listed in the\r\n// 'whitelistedDomain' and any 'blacklistedDomain' route we are not going\r\n// to send the token with.\r\nexport function tokenGetter() {\r\n  return localStorage.getItem('token');\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavComponent,\r\n    HomeComponent,\r\n    RegisterComponent,\r\n    MemberListComponent,\r\n    ListComponent,\r\n    MessagesComponent,\r\n    MemberCardComponent,\r\n    MemberDetailComponent,\r\n    MemberEditComponent,\r\n    PhotoEditorComponent,\r\n    // This is a pipe so we will add it on the declarations - https://www.npmjs.com/package/time-ago-pipe\r\n    TimeAgoPipe,\r\n    MemberMessagesComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    // We will be importing this inside our value.component in order to get the values from our DatingApp.API\r\n    // with the Http service that it provides like HttpClient which allows us to do an Http GET request\r\n    // and retrieve values from the server.  The HttpClient can be injected in the ValueComponent (value.component.ts)\r\n    // constructor like constructor(private http:HttpClient)\r\n    HttpClientModule,\r\n    // We need to tell Angular we will be using the Forms module which is used for submitting username and password\r\n    FormsModule,\r\n    // We need to import the reactive forms module so that we can use reactive forms\r\n    // in our register.component.ts\r\n    ReactiveFormsModule,\r\n    // Add the NGX dropdown module - https://valor-software.com/ngx-bootstrap/#/dropdowns\r\n    BsDropdownModule.forRoot(),\r\n    // Add the NGX datepicker module - https://valor-software.com/ngx-bootstrap/#/datepicker\r\n    BsDatepickerModule.forRoot(),\r\n    // Add the NGX pagination module - https://valor-software.com/ngx-bootstrap/#/pagination\r\n    PaginationModule.forRoot(),\r\n    // Add the NGX buttons module - https://valor-software.com/ngx-bootstrap/#/buttons\r\n    ButtonsModule.forRoot(),\r\n    // Add a router to our SPA which is defined in the routes.ts\r\n    RouterModule.forRoot(appRoutes),\r\n    // Import the NGX Gallery for our image gallery - https://lukasz-galka.github.io/ngx-gallery-demo/\r\n    NgxGalleryModule,\r\n    // Import the NG2 File Uploader - https://valor-software.com/ng2-file-upload/\r\n    FileUploadModule,\r\n    // Imports the JwtModule so that we can send the token automatically when\r\n    // we will do an API request rather than creating headers manually as\r\n    // example found in user.services.ts\r\n    JwtModule.forRoot({\r\n      config: {\r\n        tokenGetter: tokenGetter,\r\n        whitelistedDomains: ['localhost:5000'],\r\n        blacklistedRoutes: ['localhost:5000/api/auth']\r\n      }\r\n    }),\r\n    // Import the tab module so that we can use the tab controls in our components\r\n    TabsModule.forRoot()\r\n  ],\r\n  // Add the services we have created\r\n  // Add the error interceptors\r\n  // Add router guards\r\n  providers: [\r\n    AuthService,\r\n    ErrorInterceptorProvider,\r\n    AlertifyService,\r\n    AuthGuard,\r\n    UserService,\r\n    MemberDetailResolver,\r\n    MemberListResolver,\r\n    MemberEditResolver,\r\n    ListsResolver,\r\n    MessagesResolver,\r\n    PreventUnsavedChangesGuard\r\n  ],\r\n  // When the module is loaded, its gonna bootstrap the AppComponent which is the app.component.ts\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"\"","module.exports = \"<!--\\r\\n    container -- Bootstrap provide a bit of sensoring and padding around the content inside the container\\r\\n    mt-5 -- Represents a bootstrap margin. mt means margin-top and 5 is an element of distance from the top\\r\\n-->\\r\\n<div class=\\\"container mt-5\\\">\\r\\n\\r\\n  <div *ngIf=\\\"!registerMode\\\" style=\\\"text-align: center\\\">\\r\\n    <h1>Find your match</h1>\\r\\n    <p class=\\\"lead\\\">Come on in to view your matches... All you need to do is sign up!</p>\\r\\n    <div class=\\\"text-center\\\">\\r\\n      <!--\\r\\n        Add mr-2 for spacing  \\r\\n      -->\\r\\n      <button class=\\\"btn btn-primary btn-lg mr-2\\\" (click)=\\\"setRegisterMode(true)\\\">Register</button>\\r\\n      <button class=\\\"btn btn-info btn-lg\\\">Learn more</button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"registerMode\\\" class=\\\"container\\\">\\r\\n    <div class=\\\"row justify-content-center\\\">\\r\\n      <!--\\r\\n          A bootstrap grid is made up of 12 columns in total.\\r\\n          We are going to use 4 of them to show our register form.\\r\\n      -->\\r\\n      <div class=\\\"col-4\\\">\\r\\n        <!--\\r\\n            This will demonstrate a child to parent component communication using output properties\\r\\n            by emitting an output from our child component register.component which will be then received by our\\r\\n            parent component home.component.  The (cancelRegister) is an event method in our child component\\r\\n            register.component which emits a boolean value and the setRegisterMode($event) is an method in our\\r\\n            parent component home.component which accepts boolean as a parameter.\\r\\n        -->\\r\\n        <app-register (cancelRegister)=\\\"setRegisterMode($event)\\\"></app-register>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http'; // Make sure this is the same lib on the app.module.ts\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  registerMode = false;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  setRegisterMode(mode: boolean) {\r\n    this.registerMode = mode;\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"text-center mt-3\\\">\\r\\n  <h2>{{likesParam === 'Likers' ? 'Members who like me' : 'Members who I\\\\'ve liked'}}\\r\\n  : {{pagination.totalItems}}</h2>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"container mt-3\\\">\\r\\n\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"btn-group\\\">\\r\\n      <button class=\\\"btn btn-primary\\\"\\r\\n              [(ngModel)]=\\\"likesParam\\\"\\r\\n              btnRadio=\\\"Likers\\\"\\r\\n              (click)=\\\"loadUsers()\\\">\\r\\n        Members who like me\\r\\n      </button>\\r\\n      <button class=\\\"btn btn-primary\\\"\\r\\n              [(ngModel)]=\\\"likesParam\\\"\\r\\n              btnRadio=\\\"Likees\\\"\\r\\n              (click)=\\\"loadUsers()\\\">\\r\\n        Members who I like\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <br />\\r\\n\\r\\n  <div class=\\\"row\\\">\\r\\n    <div *ngFor=\\\"let user of users\\\" class=\\\"col-sm-6 col-md-4 col-lg-4 col-xl-2\\\">\\r\\n      <app-member-card [user]=\\\"user\\\"></app-member-card>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-center\\\">\\r\\n  <pagination [boundaryLinks]=\\\"true\\\"\\r\\n              [totalItems]=\\\"pagination.totalItems\\\"\\r\\n              [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\r\\n              [(ngModel)]=\\\"pagination.currentPage\\\"\\r\\n              (pageChanged)=\\\"pageChanged($event)\\\"\\r\\n              previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\r\\n\\r\\n  </pagination>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\nimport { User } from '../_models/user';\r\nimport { Pagination, PaginatedResult } from '../_models/pagination';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { UserService } from '../_services/user.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit {\n\n  users: User[];\n  pagination: Pagination;\n  likesParam: string;\n\n  constructor(private authService: AuthService, private userService: UserService,\n    private route: ActivatedRoute, private alertify: AlertifyService) { }\n\n  ngOnInit() {\n    this.route.data.subscribe(data => {\n      this.users = data['users'].result;\r\n      this.pagination = data['users'].pagination;\r\n    });\n\n    this.likesParam = 'Likers';\n  }\n\n  pageChanged(event: any): void {\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\n\n  loadUsers() {\n    this.userService\r\n      .getUsers(this.pagination.currentPage, this.pagination.itemsPerPage,\r\n        null, this.likesParam)\r\n      .subscribe(\r\n        (res: PaginatedResult<User[]>) => {\r\n          this.users = res.result;\r\n          this.pagination = res.pagination;\r\n        }, error => {\r\n          this.alertify.error(error);\r\n        }        \r\n      );\r\n  }\n}\n","module.exports = \"/*Transforms the image by zooming-in/out when the user do a mouse over*/\\r\\n.card:hover img{\\r\\n  -webkit-transform: scale(1.2, 1.2);\\r\\n          transform: scale(1.2, 1.2);\\r\\n  transition-duration: 500ms;\\r\\n  transition-timing-function: ease-out;\\r\\n  opacity: 0.7; \\r\\n}\\r\\n.card img{\\r\\n  -webkit-transform: scale(1.0, 1.0);\\r\\n          transform: scale(1.0, 1.0);\\r\\n  transition-duration: 500ms;\\r\\n  transition-timing-function: ease-out;\\r\\n}\\r\\n/*Prevent the image from zooming in outside from the card wrapper*/\\r\\n.card-img-wrapper{\\r\\n  overflow: hidden;\\r\\n  /*This will allow the user, heart, and envelop buttons to be positioned abolutely as\\r\\n    defined in the .member-icons below.\\r\\n  */\\r\\n  position: relative;\\r\\n}\\r\\n.member-icons{\\r\\n  position: absolute;\\r\\n  bottom: -30%;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  margin-right: auto;\\r\\n  margin-left: auto;\\r\\n  opacity: 0;\\r\\n}\\r\\n/*This takes effect on our user, heart, and envelope buttons when the user hovers over*/\\r\\n.card-img-wrapper:hover .member-icons{\\r\\n  bottom: 0;\\r\\n  opacity: 1;\\r\\n}\\r\\n/*Add animation that slides-up the user, heart, and envelope buttons rather than pop-in*/\\r\\n.animate{\\r\\n  transition: all 0.3s ease-in-out;\\r\\n}\\r\\n\"","module.exports = \"<!--\\r\\n\\r\\n  We are going to use the card component from Bootstrap.\\r\\n  Source: https://getbootstrap.com/docs/4.1/components/card/\\r\\n\\r\\n    We are also modifying some behaviour of the .card class to zoom-in/out\\r\\n    when the user selects the image.  The modification can be found in\\r\\n    member-card.component.css.\\r\\n\\r\\n-->\\r\\n\\r\\n<!--mb for margin bottom-->\\r\\n<div class=\\\"card mb-4\\\">\\r\\n  <!--\\r\\n      If we want to absolutely position the user, heart, and envelope buttons, then the container\\r\\n      which is the <div class=\\\"card-img-wrapper\\\"> should be relatively positioned element\\r\\n  -->\\r\\n  <div class=\\\"card-img-wrapper\\\">\\r\\n    <img class=\\\"card-img-top\\\" src=\\\"{{user.photoUrl || '../../../assets/user.png'}}\\\" alt=\\\"{{user.knownAs}}\\\" />\\r\\n    <!--\\r\\n        Add an ordered list of buttons which are inline so that the buttons will\\r\\n        appear horizontally align.  We will also give it a class of .member-icons\\r\\n        so that we can have the ability to style it.  We will also give it an\\r\\n        .animate class so that we can add animate styles to the button. And we will\\r\\n        add .text-center class so that the buttons will be aligned to each member card\\r\\n    -->\\r\\n    <ul class=\\\"list-inline member-icons animate text-center\\\">\\r\\n      <!--Redirect them to the user information-->\\r\\n      <li class=\\\"list-inline-item\\\">\\r\\n        <button class=\\\"btn btn-primary\\\" [routerLink]=\\\"['/members/', user.id]\\\">\\r\\n          <i class=\\\"fa fa-user\\\"></i>\\r\\n        </button>\\r\\n      </li>\\r\\n      <!--Button to hit 'like' the user-->\\r\\n      <li class=\\\"list-inline-item\\\">\\r\\n        <button class=\\\"btn btn-primary\\\"\\r\\n                (click)=\\\"sendLike(user.id)\\\">\\r\\n          <i class=\\\"fa fa-heart\\\"></i>\\r\\n        </button>\\r\\n      </li>\\r\\n      <!--Button to send the user a message-->\\r\\n      <li class=\\\"list-inline-item\\\">\\r\\n        <!--\\r\\n            We are adding [queryParams]=\\\"{tab: 3}\\\" so that our URL will \\r\\n            have a query string and will look like http://localhost:4200/members/14?tab=3\\r\\n            We need this query string so that we can redirect the tab focus\\r\\n            to the Messages tab when we click each message row\\r\\n        -->\\r\\n        <button class=\\\"btn btn-primary\\\" \\r\\n          [routerLink]=\\\"['/members', user.id]\\\"\\r\\n          [queryParams]=\\\"{tab: 3}\\\">\\r\\n          <i class=\\\"fa fa-envelope\\\"></i>\\r\\n        </button>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <!--p for padding-->\\r\\n  <div class=\\\"card-body p-1\\\">\\r\\n    <h6 class=\\\"card-title text-center mb-1\\\"><i class=\\\"fa fa-user\\\"></i>\\r\\n      {{user.knownAs}}, {{user.age}}\\r\\n    </h6>\\r\\n    <p class=\\\"card-text text-muted text-center\\\">{{user.city}}</p>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { AuthService } from '../../_services/auth.service';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\n\r\n@Component({\r\n  selector: 'app-member-card',\r\n  templateUrl: './member-card.component.html',\r\n  styleUrls: ['./member-card.component.css']\r\n})\r\nexport class MemberCardComponent implements OnInit {\r\n\r\n  // We are going to pass down the user property from our parent component which is\r\n  // the member-list.component.ts\r\n  @Input() user: User;\r\n\r\n  constructor(private authService: AuthService, private userService: UserService,\r\n    private alertify: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  sendLike(id: number) {\r\n    this.userService.sendLike(this.authService.decodedToken.nameid, id)\r\n    .subscribe(() => {\r\n      this.alertify.success('You have liked ' + this.user.knownAs);\r\n    }, error => {\r\n      this.alertify.error(error);\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"/*Adjust the .img-thumbnail*/\\r\\n.img-thumbnail{\\r\\n  margin: 25px;\\r\\n  width: 85%;\\r\\n  height: 85%;\\r\\n}\\r\\n.card-body{\\r\\n  /*Take away the padding on top and bottom and set the left and right to 25px*/\\r\\n  padding: 0 25px;\\r\\n}\\r\\n.card-footer{\\r\\n  /*Add 10px padding top and button and 15px left and right*/\\r\\n  padding: 10px 15px;\\r\\n  /*Background #fff to match the color of the rest of the component*/\\r\\n  background-color: #fff;\\r\\n  border-top: none;\\r\\n}\\r\\n\"","module.exports = \"<!--\\r\\n      We need to use an elvies/ ? / save navigation operator to fix the error\\r\\n      ERROR TypeError: Cannot read property 'knownAs' of undefined\\r\\n      But this is fixed by adding member-detail.resolver.ts\\r\\n\\r\\n      {{user?.knownAs}} or\\r\\n\\r\\n      <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{user?.photoUrl}}\\\" alt=\\\"{{user?.knownAs}}\\\" />\\r\\n  -->\\r\\n\\r\\n<div class=\\\"container mt-4\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <h1>{{user.knownAs}}'s Profile</h1>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <!--\\r\\n        On the left hand side, we will display some general information about the user\\r\\n        including the photo\\r\\n    -->\\r\\n    <div class=\\\"col-sm-4\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{user.photoUrl || '../../../assets/user.png'}}\\\" alt=\\\"{{user.knownAs}}\\\" />\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div>\\r\\n            <strong>Location:</strong>\\r\\n            <p>{{user.city}}, {{user.country}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Age:</strong>\\r\\n            <p>{{user.age}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Last Active:</strong>\\r\\n            <p>{{user.lastActive | timeAgo}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Member Since:</strong>\\r\\n            <!--\\r\\n                We will be using pipes '|' to specify this field is of type date\\r\\n\\r\\n                We can use options like date: 'medium' or date: 'mediumDate'\\r\\n                -->\\r\\n            <p>{{user.created | date: 'mediumDate'}}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer\\\">\\r\\n          <!--d-flex will give the <div> a display of flex-->\\r\\n          <div class=\\\"btn-group d-flex\\\">\\r\\n            <!--w-100 give the button a width of 100-->\\r\\n            <button class=\\\"btn btn-primary w-100\\\" (click)=\\\"sendLike(user.id)\\\">Like</button>\\r\\n            <button class=\\\"btn btn-success w-100\\\" (click)=\\\"selectTab(3)\\\">Message</button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!--\\r\\n        On the right hand side, we will have a sort of tab panel where we are going to display\\r\\n        the users's' photos, description about the user, section for messages, and\\r\\n        section for interest\\r\\n\\r\\n        .member-tabset, .tab-panel class will be targetted using global styles under styles.css\\r\\n    -->\\r\\n    <div class=\\\"col-sm-8\\\">\\r\\n      <div class=\\\"tab-panel\\\">\\r\\n        <!--\\r\\n            Taken from https://valor-software.com/ngx-bootstrap/#/tabs\\r\\n             As describe on the link https://valor-software.com/ngx-bootstrap/#/tabs#tabs-manual-select,\\r\\n             we are adding a template reference variable #memberTab to our tab\\r\\n            set so that we can reference it in our member-detail.component.ts component\\r\\n            using the @ViewChild decorator\\r\\n        -->\\r\\n        <tabset class=\\\"member-tabset\\\" #memberTabs>\\r\\n          <tab heading=\\\"About {{user.knownAs}}\\\">\\r\\n            <h4>Description</h4>\\r\\n            <p>{{user.introduction}}</p>\\r\\n            <h4>Looking For</h4>\\r\\n            <p>{{user.lookingFor}}</p>\\r\\n          </tab>\\r\\n          <tab heading=\\\"Interests\\\">\\r\\n            <h4>Interests</h4>\\r\\n            <p>{{user.interest}}</p>\\r\\n          </tab>\\r\\n          <tab heading=\\\"Photos\\\">\\r\\n            <ngx-gallery [options]=\\\"galleryOptions\\\" [images]=\\\"galleryImages\\\"></ngx-gallery>\\r\\n          </tab>\\r\\n          <tab heading=\\\"Messages\\\">\\r\\n            <app-member-messages [recipientId]=\\\"user.id\\\"></app-member-messages>\\r\\n          </tab>\\r\\n        </tabset>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { AuthService } from './../../_services/auth.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgxGalleryOptions, NgxGalleryImage, NgxGalleryAnimation } from 'ngx-gallery';\r\nimport { TabsetComponent } from 'ngx-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-member-detail',\r\n  templateUrl: './member-detail.component.html',\r\n  styleUrls: ['./member-detail.component.css']\r\n})\r\nexport class MemberDetailComponent implements OnInit {\r\n\r\n  @ViewChild('memberTabs') memberTabs: TabsetComponent;\r\n\r\n  user: User;\r\n\r\n  galleryOptions: NgxGalleryOptions[];\r\n  galleryImages: NgxGalleryImage[];\r\n\r\n  constructor(private userService: UserService, private alertify: AlertifyService,\r\n    private route: ActivatedRoute, private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    // We are going to pass the data to the route and retrieve the data from the route\r\n    // resolver itself so that there is no way this component will be loaded without\r\n    // the data available.\r\n    // This will prevent member-detail.component.html from using elvies / ? / save navigation operator\r\n    // to fix the error ERROR TypeError: Cannot read property 'knownAs' of undefined\r\n    // We are now getting the data from the 'route' itself as defined in the routes.ts\r\n    // for the member-detail.component.ts (MemberDetailComponent) which is assigned to the\r\n    // member-detail.resolver.ts (MemberDetailResolver) where success['user'] is the property\r\n    // name that we gave in the routes.ts.\r\n    this.route.data.subscribe(success => {\r\n      this.user = success['user'];\r\n    });\r\n\r\n    // We will be subscribing to the query parameters and we have\r\n    // included in the router link in messages.component.html\r\n    // [routerLink]=\"['/members', messageContainer == 'Outbox' ? message.recipientId : message.senderId]\"\r\n    // [queryParams]=\"{tab: 3}\"\r\n    this.route.queryParams.subscribe(params => {\r\n      const selectedTab = params['tab'];\r\n      this.selectTab(selectedTab > 0 ? selectedTab : 0);\r\n    });\r\n\r\n    // Configure the gallery options and set how we want it to look\r\n    this.galleryOptions = [\r\n      {\r\n        width: '500px',\r\n        height: '500px',\r\n        imagePercent: 100,\r\n        thumbnailsColumns: 4,\r\n        imageAnimation: NgxGalleryAnimation.Slide,\r\n        preview: false\r\n      }\r\n    ];\r\n\r\n    this.galleryImages = this.getImages();\r\n  }\r\n\r\n  getImages() {\r\n\r\n    const imageUrls = [];\r\n\r\n    for (let i = 0; i < this.user.photos.length; i++) {\r\n      imageUrls.push({\r\n        small: this.user.photos[i].url,\r\n        medium: this.user.photos[i].url,\r\n        big: this.user.photos[i].url,\r\n        description: this.user.photos[i].description\r\n      });\r\n    }\r\n\r\n    return imageUrls;\r\n  }\r\n\r\n  selectTab(tabId: number) {\r\n    this.memberTabs.tabs[tabId].active = true;\r\n  }\r\n\r\n  sendLike(id: number) {\r\n    this.userService.sendLike(this.authService.decodedToken.nameid, id)\r\n    .subscribe(() => {\r\n      this.alertify.success('You have liked ' + this.user.knownAs);\r\n    }, error => {\r\n      this.alertify.error(error);\r\n    });\r\n  }\r\n\r\n  // In the URL route, we are using /members/4 or members/2 or members/5 in which the numeric\r\n  // value is the member ID\r\n  // We no longer require this one when we implemented the member-detail.resolver.ts\r\n  // loadUser() {\r\n    // We use the '+' preceeding operator to convert params['id'] from string to number\r\n  //  this.userService.getUser(+this.route.snapshot.params['id'])\r\n  //    .subscribe((success: User) => {\r\n  //      this.user = success;\r\n  //    }, error => {\r\n  //      this.alertify.error(error);\r\n  //    });\r\n  // }\r\n\r\n}\r\n","module.exports = \"/*Adjust the .img-thumbnail*/\\r\\n.img-thumbnail {\\r\\n  margin: 25px;\\r\\n  width: 85%;\\r\\n  height: 85%;\\r\\n}\\r\\n.card-body {\\r\\n  /*Take away the padding on top and bottom and set the left and right to 25px*/\\r\\n  padding: 0 25px;\\r\\n}\\r\\n.card-footer {\\r\\n  /*Add 10px padding top and button and 15px left and right*/\\r\\n  padding: 10px 15px;\\r\\n  /*Background #fff to match the color of the rest of the component*/\\r\\n  background-color: #fff;\\r\\n  border-top: none;\\r\\n}\\r\\n\"","module.exports = \"<!--\\r\\n      We need to use an elvies/ ? / save navigation operator to fix the error\\r\\n      ERROR TypeError: Cannot read property 'knownAs' of undefined\\r\\n      But this is fixed by adding member-detail.resolver.ts\\r\\n\\r\\n      {{user?.knownAs}} or\\r\\n\\r\\n      <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{user?.photoUrl || '../../../assets/user.png'}}\\\" alt=\\\"{{user?.knownAs}}\\\" />\\r\\n  -->\\r\\n\\r\\n\\r\\n<div class=\\\"container mt-4\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <!--Column 1-->\\r\\n    <div class=\\\"col-sm-4\\\">\\r\\n      <h1>Your Profile</h1>\\r\\n    </div>\\r\\n    <!--Column 2 which contains an alert that highlights the changes we have made-->\\r\\n    <div class=\\\"col-sm-8\\\">\\r\\n      <!--\\r\\n          We will hide this and we will only show this once the user has changes being made\\r\\n          and he will exit the page without clicking the save button.\\r\\n      -->\\r\\n      <div *ngIf=\\\"editForm.dirty\\\" class=\\\"alert alert-info\\\">\\r\\n        <strong>Information:</strong> You have made changes.  Any unsaved changes will be lost!\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"row\\\">\\r\\n    <!--\\r\\n        On the left hand side, we will display some general information about the user\\r\\n        including the photo\\r\\n    -->\\r\\n    <!--Column 1-->\\r\\n    <div class=\\\"col-sm-4\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <img class=\\\"card-img-top img-thumbnail\\\" src=\\\"{{photoUrl || '../../../assets/user.png'}}\\\" alt=\\\"{{user.knownAs}}\\\" />\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div>\\r\\n            <strong>Location:</strong>\\r\\n            <p>{{user.city}}, {{user.country}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Age:</strong>\\r\\n            <p>{{user.age}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Last Active:</strong>\\r\\n            <p>{{user.lastActive | timeAgo}}</p>\\r\\n          </div>\\r\\n          <div>\\r\\n            <strong>Member Since:</strong>\\r\\n            <!--\\r\\n              We will be using pipes '|' to specify this field is of type date\\r\\n\\r\\n              We can use options like date: 'medium' or date: 'mediumDate'\\r\\n              -->\\r\\n            <p>{{user.created | date: 'mediumDate'}}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer\\\">\\r\\n          <!--\\r\\n              We assign this button to the form with id='editForm' so that\\r\\n              this will trigger the submit event of the form\\r\\n          -->\\r\\n          <button [disabled]=\\\"!editForm.dirty\\\" form=\\\"editForm\\\"\\r\\n                  class=\\\"btn btn-success btn-block\\\">\\r\\n            Save Changes\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <!--\\r\\n        On the right hand side, we will have a sort of tab panel where we are going to display\\r\\n        the users's' photos, description about the user, section for messages, and\\r\\n        section for interest\\r\\n\\r\\n        .member-tabset, .tab-panel class will be targetted using global styles under styles.css\\r\\n    -->\\r\\n    <!--Column 2-->\\r\\n    <div class=\\\"col-sm-8\\\">\\r\\n      <div class=\\\"tab-panel\\\">\\r\\n        <!--\\r\\n            Taken from https://valor-software.com/ngx-bootstrap/#/tabs\\r\\n        -->\\r\\n        <tabset class=\\\"member-tabset\\\">\\r\\n          <tab heading=\\\"Edit Profile\\\">\\r\\n            <!--\\r\\n                We gave our form an attribute of 'id' since our 'Save Changes'\\r\\n                button does not belong to the form and we need to assign it\\r\\n                to the button element\\r\\n            -->\\r\\n            <form #editForm=\\\"ngForm\\\" id=\\\"editForm\\\" (ngSubmit)=\\\"updateUser()\\\">\\r\\n              <h4>Description</h4>\\r\\n              <textarea class=\\\"form-control\\\" name=\\\"introduction\\\" rows=\\\"6\\\"\\r\\n                        [(ngModel)]=\\\"user.introduction\\\"></textarea>\\r\\n              <h4>Looking For</h4>\\r\\n              <textarea class=\\\"form-control\\\" name=\\\"lookingFor\\\" rows=\\\"6\\\"\\r\\n                        [(ngModel)]=\\\"user.lookingFor\\\"></textarea>\\r\\n              <h4>Interest</h4>\\r\\n              <textarea class=\\\"form-control\\\" name=\\\"interest\\\" rows=\\\"6\\\"\\r\\n                        [(ngModel)]=\\\"user.interest\\\"></textarea>\\r\\n              <h4>Location Details:</h4>\\r\\n              <div class=\\\"form-inline\\\">\\r\\n                <label for=\\\"city\\\">City</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"city\\\" [(ngModel)]=\\\"user.city\\\" />\\r\\n                <label for=\\\"country\\\">Country</label>\\r\\n                <input class=\\\"form-control\\\" type=\\\"text\\\" name=\\\"country\\\" [(ngModel)]=\\\"user.country\\\" />\\r\\n              </div>\\r\\n            </form>\\r\\n          </tab>\\r\\n          <tab heading=\\\"Edit Photos\\\">\\r\\n            <app-photo-editor [photos]=\\\"user.photos\\\"\\r\\n                              (getMemberPhotoChange)=\\\"updateMainPhoto($event)\\\">\\r\\n            </app-photo-editor>\\r\\n          </tab>\\r\\n        </tabset>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChild, HostListener } from '@angular/core';\r\nimport { User } from '../../_models/user';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { NgForm } from '@angular/forms';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AuthService } from '../../_services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-member-edit',\r\n  templateUrl: './member-edit.component.html',\r\n  styleUrls: ['./member-edit.component.css']\r\n})\r\nexport class MemberEditComponent implements OnInit {\r\n\r\n  user: User;\r\n  photoUrl: string;\r\n\r\n  // We need to access template reference variable the html form with id='editForm'\r\n  // since we need to reset its state once the save changes button is clicked so that\r\n  // the alert header will be hidden and the save changes button will be disabled\r\n  // again.  For this, we need the @ViewChild decorator\r\n  @ViewChild('editForm') editForm: NgForm;\r\n\r\n  // The prevent-unsaved-changes.guard.ts prevents the user from clicking other\r\n  // links within the page while there are still unsaved changes in the edit form.\r\n  // But, Angular does not have access 'outside' the route\r\n  // that is why user still will loose some changes if the user clicks the close\r\n  // button on the browser.  In this case, we need a HostListener.  This will prompt\r\n  // 'Leave site' in the browser if there are still unsaved changes in the edit form.\r\n  // We don't have any control in the pop-up and its text since it is browser-specific.\r\n  @HostListener('window:beforeunload', ['$event'])\r\n  unloadNotification($event: any) {\r\n    if (this.editForm.dirty) {\r\n      $event.returnValue = true;\r\n    }\r\n  }\r\n\r\n  constructor(private route: ActivatedRoute, private alertify: AlertifyService,\r\n    private userService: UserService, private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    // We are going to pass the data to the route and retrieve the data from the route\r\n    // resolver itself so that there is no way this component will be loaded without\r\n    // the data available.\r\n    // This will prevent member-detail.component.html from using elvies / ? / save navigation operator\r\n    // to fix the error ERROR TypeError: Cannot read property 'knownAs' of undefined\r\n    // We are now getting the data from the 'route' itself as defined in the routes.ts\r\n    // for the member-edit.component.ts (MemberEditComponent) which is assigned to the\r\n    // member-edit.resolver.ts (MemberEditResolver) where success['user'] is the property\r\n    // name that we gave in the routes.ts.\r\n    this.route.data.subscribe(success => {\r\n      this.user = success['user'];\r\n    });\r\n\r\n    // We will subscribe to the 'currentPhotoUrl' observable so that we can\r\n    // set the user photo in the nav bar every time other components like\r\n    // the photo-editor.component.ts changes the user main\r\n    // photo.  Remember, this nav.component.ts is not a parent/child component of\r\n    // the photo-editor.component.ts\r\n    this.authService.currentPhotoUrl.subscribe(returnUrl => {\r\n      this.photoUrl = returnUrl;\r\n    });\r\n  }\r\n\r\n  updateUser() {\r\n\r\n    // We are using the authService.decodedToken.nameid to pass the user id\r\n    this.userService.updateUser(this.authService.decodedToken.nameid, this.user)\r\n      .subscribe(() => {\r\n        this.alertify.success('Profile updated successfully!');\r\n\r\n        // Reset the form control.  This means by default, it is marked as pristine, marked as\r\n        // untouched and value is set to null.\r\n        // Add the this.user as the parameter so that it will reset the elements and fill\r\n        // the controls with the bindings coming from the this.user variable\r\n        this.editForm.reset(this.user);\r\n      }, error => {\r\n        this.alertify.error(error);\r\n      });\r\n  }\r\n\r\n  // This method handles the 'getMemberPhotoChange' event which is emitted from the child\r\n  // component photo-editor.component.ts define in the template member-edit.component.html\r\n  // as (getMemberPhotoChange)=\"updateMainPhoto($event)\"\r\n  updateMainPhoto(photoUrl) {\r\n    this.user.photoUrl = photoUrl;\r\n    this.authService.changeMemberPhoto(photoUrl);\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<div class=\\\"text-center mt-3\\\">\\r\\n  <h2>Your matches - {{pagination.totalItems}} found</h2>\\r\\n</div>\\r\\n\\r\\n<!--mt for margin top-->\\r\\n<div class=\\\"container mt-3\\\">\\r\\n\\r\\n  <!--Make this as an Angular form-->\\r\\n  <form class=\\\"form-inline\\\" #form=\\\"ngForm\\\" (ngSubmit)=\\\"loadUsers()\\\" novalidate>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"minAge\\\">Age From</label>\\r\\n      <!--\\r\\n          Since this is now a template form, we will just use [(ngModel)] for\\r\\n          two-way binding\\r\\n          -->\\r\\n      <input type=\\\"number\\\"\\r\\n             class=\\\"form-control ml-1\\\"\\r\\n             style=\\\"width: 70px\\\"\\r\\n             id=\\\"minAge\\\"\\r\\n             name=\\\"minAge\\\"\\r\\n             [(ngModel)]=\\\"userParams.minAge\\\"/>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group px-2\\\">\\r\\n      <label for=\\\"maxAge\\\">Age To</label>\\r\\n      <input type=\\\"number\\\"\\r\\n             class=\\\"form-control ml-1\\\"\\r\\n             style=\\\"width: 70px\\\"\\r\\n             id=\\\"maxAge\\\"\\r\\n             name=\\\"maxAge\\\"\\r\\n             [(ngModel)]=\\\"userParams.maxAge\\\"/>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"form-group px-2\\\">\\r\\n      <label for=\\\"gender\\\">Show:</label>\\r\\n      <select class=\\\"form-control ml-1\\\"\\r\\n              style=\\\"width: 130px\\\"\\r\\n              id=\\\"gender\\\"\\r\\n              name=\\\"gender\\\"\\r\\n              [(ngModel)]=\\\"userParams.gender\\\">\\r\\n        <option *ngFor=\\\"let gender of genderList\\\" [value]=\\\"gender.value\\\">\\r\\n          {{gender.display}}\\r\\n        </option>\\r\\n      </select>\\r\\n    </div>\\r\\n\\r\\n    <button type=\\\"submit\\\"\\r\\n            class=\\\"btn btn-primary\\\"\\r\\n            style=\\\"margin-left: 10px\\\">\\r\\n    Apply Filters\\r\\n    </button>\\r\\n    <button type=\\\"button\\\"\\r\\n            class=\\\"btn btn-info\\\"\\r\\n            style=\\\"margin-left: 10px\\\"\\r\\n            (click)=\\\"resetFilters()\\\">\\r\\n    Reset Filters\\r\\n    </button>\\r\\n\\r\\n    <!--We used the class 'col' so that we can use the 'float-right'\\r\\n        to move the buttons to the right hand side of the page.\\r\\n        Then we use the 'btn-group' because to group two buttons.\\r\\n        -->\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"btn-group float-right\\\">\\r\\n        <!--In order to make use of the radio buttons from the\\r\\n          // Add the NGX buttons module - https://valor-software.com/ngx-bootstrap/#/buttons\\r\\n          ButtonsModule.forRoot(),\\r\\n            we will give it the directive 'btnRadio'>\\r\\n          -->\\r\\n        <button type=\\\"submit\\\"\\r\\n                name=\\\"orderBy\\\"\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                btnRadio=\\\"lastActive\\\"\\r\\n                [(ngModel)]=\\\"userParams.orderBy\\\">\\r\\n        Last Active\\r\\n        </button>\\r\\n        <button type=\\\"submit\\\"\\r\\n                name=\\\"orderBy\\\"\\r\\n                class=\\\"btn btn-primary\\\"\\r\\n                btnRadio =\\\"created\\\"\\r\\n                [(ngModel)]=\\\"userParams.orderBy\\\">\\r\\n        Newest Members\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n  <br />\\r\\n\\r\\n  <div class=\\\"row\\\">\\r\\n    <!--\\r\\n        Bootstrap uses 12 columns\\r\\n        This means on a large screen (lg), columns are made up of 2 grid columns which\\r\\n        means there would be 6 elements line-up on the page\\r\\n        In a medium screen (md), columns are made up of 3 grid columns which means\\r\\n        there would be 4 elements line-up on the page\\r\\n        In a small screen (sm), columns are made up of 6 grid columns which means\\r\\n        there would be 2 elements line-up on the page\\r\\n    -->\\r\\n    <div *ngFor=\\\"let user of users\\\" class=\\\"col-lg-2 col-md-3 col-sm-6\\\">\\r\\n      <!--[ ] square bracket for input and ( ) for output-->\\r\\n      <app-member-card [user]=\\\"user\\\"></app-member-card>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"d-flex justify-content-center\\\">\\r\\n  <pagination [boundaryLinks]=\\\"true\\\"\\r\\n              [totalItems]=\\\"pagination.totalItems\\\"\\r\\n              [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\r\\n              [(ngModel)]=\\\"pagination.currentPage\\\"\\r\\n              (pageChanged)=\\\"pageChanged($event)\\\"\\r\\n              previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\r\\n  </pagination>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\n// We need to go UP an extra level '../../' because we are now on 2 levels lower\r\nimport { User } from '../../_models/user';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Pagination, PaginatedResult } from '../../_models/pagination';\r\n\r\n@Component({\r\n  selector: 'app-member-list',\r\n  templateUrl: './member-list.component.html',\r\n  styleUrls: ['./member-list.component.css']\r\n})\r\nexport class MemberListComponent implements OnInit {\r\n\r\n  users: User[];\r\n  user: User = JSON.parse(localStorage.getItem('user'));\r\n  genderList = [{ value: 'male', display: 'Males' }, { value: 'female', display: 'Females' }];\r\n  userParams: any = {};\r\n  pagination: Pagination;\r\n\r\n  constructor(private userService: UserService, private alertify: AlertifyService,\r\n    private route: ActivatedRoute) { }\r\n\r\n  ngOnInit() {\r\n    // We are going to pass the data to the route and retrieve the data from the route\r\n    // resolver itself so that there is no way this component will be loaded without\r\n    // the data available.\r\n    // This will prevent member-list.component.html from using elvies / ? / save navigation operator\r\n    // to fix the error ERROR TypeError: Cannot read property 'knownAs' of undefined\r\n    // We are now getting the data from the 'route' itself as defined in the routes.ts\r\n    // for the member-list.component.ts (MemberListComponent) which is assigned to the\r\n    // member-list.resolver.ts (MemberListResolver) where success['users'] is the property\r\n    // name that we gave in the routes.ts.\r\n    this.route.data.subscribe(success => {\r\n      // When we change the return type of the member-list.resolver.ts (MemberListResolver)\r\n      // to Observable<PaginatedResult<User[]>>, we will now use success['users'].result\r\n      // because the users are now in the .result field of the PaginatedResult type object\r\n      this.users = success['users'].result;\r\n      this.pagination = success['users'].pagination;\r\n    });\r\n\r\n    this.userParams.gender = (this.user.gender === 'female') ? 'male' : ' female';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.userParams.orderBy = 'lastActive';\r\n  }\r\n\r\n  // This is for the pagination and is copied from https://valor-software.com/ngx-bootstrap/#/pagination\r\n  pageChanged(event: any): void {\r\n    this.pagination.currentPage = event.page;\r\n    this.loadUsers();\r\n  }\r\n\r\n  resetFilters() {\r\n    this.userParams.gender = (this.user.gender === 'female') ? 'male' : ' female';\r\n    this.userParams.minAge = 18;\r\n    this.userParams.maxAge = 99;\r\n    this.loadUsers();\r\n  }\r\n\r\n  loadUsers() {\r\n    this.userService\r\n      .getUsers(this.pagination.currentPage, this.pagination.itemsPerPage, this.userParams)\r\n      .subscribe(\r\n        (res: PaginatedResult<User[]>) => {\r\n          this.users = res.result;\r\n          this.pagination = res.pagination;\r\n        }, error => {\r\n          this.alertify.error(error);\r\n        }\r\n      );\r\n  }\r\n\r\n}\r\n","module.exports = \".card {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat {\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat li {\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle {\\r\\n    height: 50px;\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n/*This will make the chat area fixed with scroll bar*/\\r\\n\\r\\n.card-body {\\r\\n    overflow-y: scroll;\\r\\n    height: 400px;\\r\\n}\"","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n    <div *ngIf=\\\"messages?.length === 0\\\">\\n      <p>No messages yet... say 'Hi' by using the message box below</p>\\n    </div>\\n\\n    <ul class=\\\"chat\\\">\\n      <li *ngFor=\\\"let message of messages\\\">\\n        <!-- to them -->\\n        <div *ngIf=\\\"message.senderId == recipientId\\\">\\n          <span class=\\\"chat-img float-left\\\">\\n            <img src={{message.senderPhotoUrl}} alt={{message.senderKnownAs}} \\n            class=\\\"rounded-circle\\\">\\n          </span>\\n          <div class=\\\"chat-body\\\">\\n            <div class=\\\"header\\\">\\n              <strong class=\\\"primary-font\\\">{{message.senderKnownAs}}</strong>\\n              <small class=\\\"text-muted float-right\\\">\\n                <span class=\\\"fa fa-clock-o\\\"> {{message.messageSent | timeAgo}}</span>\\n              </small>\\n            </div>\\n            <p>{{message.content}}</p>\\n          </div>\\n        </div>\\n\\n        <!-- to me -->\\n        <div *ngIf=\\\"message.senderId != recipientId\\\">\\n          <span class=\\\"chat-img float-right\\\">\\n            <img src={{message.senderPhotoUrl}} alt={{message.senderKnownAs}} \\n            class=\\\"rounded-circle\\\">\\n          </span>\\n          <div class=\\\"chat-body\\\">\\n            <div class=\\\"header\\\">\\n              <small class=\\\"text-muted\\\">\\n                <span class=\\\"fa fa-clock-o\\\"> {{message.messageSent | timeAgo}}</span>\\n                <span *ngIf=\\\"!message.isRead\\\" class=\\\"text-danger\\\"> (Unread)</span>\\n                <span *ngIf=\\\"message.isRead\\\" class=\\\"text-success\\\"> (Read {{message.dateRead | timeAgo}})</span>\\n              </small>\\n              <strong class=\\\"primary-font float-right\\\">{{message.senderKnownAs}}</strong>              \\n            </div>\\n          </div>\\n          <p>{{message.content}}</p>\\n        </div>\\n      </li>\\n    </ul>\\n  </div>\\n\\n  <div class=\\\"card-footer\\\">\\n    <!--\\n      We will add a template reference variable called #messageForm which is of type\\n      'ngForm'.  We are adding a ngSubmit method which checks first if the form is\\n      valid, and if it is, then we will call the sendMessage() method\\n    -->\\n    <form #messageForm=\\\"ngForm\\\" (ngSubmit)=\\\"messageForm.valid && sendMessage()\\\">\\n      <div class=\\\"input-group\\\">\\n        <input type=\\\"text\\\" \\n          [(ngModel)]=\\\"newMessage.content\\\"\\n          name=\\\"content\\\"\\n          required\\n          class=\\\"form-control input-sm\\\" \\n          placeholder=\\\"Send a private message\\\">\\n        <div class=\\\"input-group-append\\\">\\n          <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!messageForm.valid\\\">Send</button>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n\\n</div>\"","import { AlertifyService } from './../../_services/alertify.service';\nimport { AuthService } from './../../_services/auth.service';\nimport { UserService } from './../../_services/user.service';\nimport { Component, OnInit, Input } from '@angular/core';\nimport { Message } from 'src/app/_models/message';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-member-messages',\n  templateUrl: './member-messages.component.html',\n  styleUrls: ['./member-messages.component.css']\n})\nexport class MemberMessagesComponent implements OnInit {\n\n  @Input() recipientId: number;\n\n  messages: Message[];\n  newMessage: any = {};\n\n  constructor(private userService: UserService, private authService: AuthService,\n    private alertify: AlertifyService) { }\n\n  ngOnInit() {\n    this.loadMessages();\n  }\n\n  loadMessages() {\n    // We are getting the current user id and we are adding the plus ' + ' operator\n    // so that we can convert the 'nameid' to number.\n    const currentUserId = +this.authService.decodedToken.nameid;\n\n    this.userService.getMessageThread(this.authService.decodedToken.nameid, this.recipientId)\n    // After the 'getMessageThread' is called, we are calling the 'markAsRead' method before\n    // we will be subscribing.  But, we will only call the 'markAsRead' method for the\n    // only the messages that are 'unread'.\n    // We are using the 'pipe' method from 'rxjs', and in here we take advantage of using\n    // the 'tap' operator which allows us to do something before we will subscribe to\n    // this particular method\n    .pipe(\n      tap(messages => {\n        for (let i = 0; i < messages.length; i++) {\n          // We are checking if the message is still 'unread' and the recipient id\n          // is equal to the current user id\n          if (messages[i].isRead === false && messages[i].recipientId === currentUserId) {\n            this.userService.markAsRead(currentUserId, messages[i].id);\n          }\n        }\n      })\n    )\n    .subscribe(messages => {\n      this.messages = messages;\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n\n  sendMessage() {\n    this.newMessage.recipientId = this.recipientId;\n    this.userService.sendMessage(this.authService.decodedToken.nameid, this.newMessage)\n    .subscribe((message: Message) => {\n      // We need to the new message to the messages array.  We want to add it to the\n      // start of the array so we will use 'unshift' rather than 'push'\n      this.messages.unshift(message);\n      this.newMessage.content = '';\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n}\n","module.exports = \"img.img-thumbnail{\\r\\n  height: 100px;\\r\\n  min-width: 100px !important;\\r\\n  margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.nv-file-over{\\r\\n  border: dotted 3px red;\\r\\n}\\r\\n\\r\\ninput[type=file]{\\r\\n  color: transparent;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-sm-2\\\" *ngFor=\\\"let photo of photos\\\">\\r\\n    <!--p-1 stands for padding-->\\r\\n    <img src=\\\"{{photo.url}}\\\" class=\\\"img-thumbnail p-1\\\" alt=\\\"\\\" />\\r\\n    <div class=\\\"text-center\\\">\\r\\n      <!--Add a class to the element if it is a main photo-->\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm mr-1\\\"\\r\\n              (click)=\\\"setMainPhoto(photo)\\\"\\r\\n              [ngClass]=\\\"photo.isMain ? 'btn-success active' : 'btn-secondary'\\\"\\r\\n              [disabled]=\\\"photo.isMain\\\">\\r\\n        Main\\r\\n      </button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-sm btn-danger\\\"\\r\\n              (click)=\\\"deletePhoto(photo.id)\\\"\\r\\n              [disabled]=\\\"photo.isMain\\\">\\r\\n        <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!--Copied from https://valor-software.com/ng2-file-upload/-->\\r\\n<div class=\\\"row mt-3\\\">\\r\\n\\r\\n  <div class=\\\"col-md-3\\\">\\r\\n\\r\\n    <h3>Add Photos</h3>\\r\\n\\r\\n    <!--\\r\\n    The class .well does not exist on Bootstrap 4\\r\\n    and only exists on Bootstrap 3\\r\\n\\r\\n    [uploader]=\\\"uploader\\\"\\r\\n    class=\\\"well my-drop-zone\\\">\\r\\n\\r\\n      https://www.udemy.com/build-an-app-with-aspnet-core-and-angular-from-scratch/learn/v4/t/lecture/8714914?start=15\\r\\n  -->\\r\\n    <div ng2FileDrop\\r\\n         [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\"\\r\\n         (fileOver)=\\\"fileOverBase($event)\\\"\\r\\n         [uploader]=\\\"uploader\\\"\\r\\n         class=\\\"card bg-faded p-3 text-center mb-3 my-drop-zone\\\">\\r\\n        <i class=\\\"fa fa-upload fa-3x\\\"></i>\\r\\n      Drop Photos Here\\r\\n    </div>\\r\\n\\r\\n    Multiple\\r\\n    <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" multiple /><br />\\r\\n\\r\\n    Single\\r\\n    <input type=\\\"file\\\" ng2FileSelect [uploader]=\\\"uploader\\\" />\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"col-md-9\\\" style=\\\"margin-bottom: 40px\\\" *ngIf=\\\"uploader?.queue?.length\\\">\\r\\n\\r\\n    <h3>Upload queue</h3>\\r\\n    <p>Queue length: {{ uploader?.queue?.length }}</p>\\r\\n\\r\\n    <table class=\\\"table\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th width=\\\"50%\\\">Name</th>\\r\\n          <th>Size</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let item of uploader.queue\\\">\\r\\n          <td><strong>{{ item?.file?.name }}</strong></td>\\r\\n          <td *ngIf=\\\"uploader.options.isHTML5\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>          \\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n\\r\\n    <div>\\r\\n      <div>\\r\\n        Queue progress:\\r\\n        <div class=\\\"progress mb-4\\\"> \\r\\n          <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-success btn-s\\\"\\r\\n              (click)=\\\"uploader.uploadAll()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\r\\n        <!--\\r\\n      The class .glyphicon does not exist on Bootstrap 4\\r\\n      and only exists on Boostrap 3\\r\\n\\r\\n    <span class=\\\"glyphicon glyphicon-upload\\\">\\r\\n      https://www.udemy.com/build-an-app-with-aspnet-core-and-angular-from-scratch/learn/v4/t/lecture/8714914?start=420\\r\\n  -->\\r\\n        <span class=\\\"fa fa-upload\\\"></span> Upload\\r\\n      </button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-warning btn-s\\\"\\r\\n              (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\r\\n        <span class=\\\"fa fa-ban\\\"></span> Cancel\\r\\n      </button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger btn-s\\\"\\r\\n              (click)=\\\"uploader.clearQueue()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\r\\n        <span class=\\\"fa fa-trash\\\"></span> Remove\\r\\n      </button>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { Photo } from '../../_models/photo';\r\nimport { environment } from '../../../environments/environment';\r\nimport { AuthService } from '../../_services/auth.service';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { AlertifyService } from '../../_services/alertify.service';\r\n\r\n// This will be a child component of our member-edit.component.ts\r\n// And on of the things that we will be bringing in from our member-edit.component.ts\r\n// is a 'User' and the 'User' has an array of photos[].\r\n@Component({\r\n  selector: 'app-photo-editor',\r\n  templateUrl: './photo-editor.component.html',\r\n  styleUrls: ['./photo-editor.component.css']\r\n})\r\nexport class PhotoEditorComponent implements OnInit {\r\n\r\n  // We will bring the user.photos[] from our parent member-edit.component.ts\r\n  @Input() photos: Photo[];\r\n\r\n  // We will update our parent member-edit.component.ts with changes from this\r\n  // child component\r\n  @Output() getMemberPhotoChange = new EventEmitter<string>();\r\n\r\n  // Copied from https://valor-software.com/ng2-file-upload/\r\n  uploader: FileUploader;\r\n  hasBaseDropZoneOver = false;\r\n\r\n  baseUrl = environment.apiUrl;\r\n  currentMain: Photo;\r\n\r\n  constructor(private authService: AuthService, private userService: UserService,\r\n    private alertify: AlertifyService) { }\r\n\r\n  ngOnInit() {\r\n    this.initializeUploader();\r\n  }\r\n\r\n  fileOverBase(e: any): void {\r\n    this.hasBaseDropZoneOver = e;\r\n  }\r\n\r\n  initializeUploader() {\r\n    this.uploader = new FileUploader({\r\n      // This is pointing to the API \\DatingApp.API\\Controllers\\PhotosController.cs\r\n      // where the route specified is 'api/users/{userId}/photos'\r\n      url: this.baseUrl + 'users/' + this.authService.decodedToken.nameid + '/photos',\r\n      // We also need to authenticate so we need to pass the auth token\r\n      authToken: 'Bearer ' + localStorage.getItem('token'),\r\n      isHTML5: true,\r\n      allowedFileType: ['image'],\r\n      // After the photo has been successfully uploaded, we want to remove it from\r\n      // the upload queue\r\n      removeAfterUpload: true,\r\n      // We want our users to click the button before we will upload\r\n      autoUpload: false,\r\n      // Setting the max file size to 10MB\r\n      maxFileSize: 10 * 1024 * 1024\r\n    });\r\n\r\n    // Fix the ng2-file-uploader issue: Fail to load 'http://localhost:500/api/user/1/photos:\r\n    // Response to preflight request doesn't pass access control check: The value of the\r\n    // Access-Control-Allow-Origin header in the response must not be a the wildcard '*'\r\n    // when the request credential mode is 'include'.  Origin 'http://localhost:4200' is\r\n    // therefore not allowed access. The credentials mode of requests initiated by the XMLHttpRequest\r\n    // is controlled by the withCredentials attribute.\r\n    // We are going to extend our ng2-file-uploader that our file is not going with\r\n    // credentials\r\n    this.uploader.onAfterAddingFile = (file) => { file.withCredentials = false; };\r\n\r\n    // Once the file has been uploaded, this method will give us an option\r\n    // to do something.  And what we are going to do in this case is with the response we\r\n    // get back from our API, we can use the response:string parameter of the onSuccessItem\r\n    // method to get the photo properties like Id, Uri, etc so that we can display it\r\n    // directly to the browser once the upload is successful.\r\n    this.uploader.onSuccessItem = (item, response, status, headers) => {\r\n      if (response) {\r\n        const res: Photo = JSON.parse(response);\r\n\r\n        // Building up an photo object from the response\r\n        const photo = {\r\n          id: res.id,\r\n          url: res.url,\r\n          dateAdded: res.dateAdded,\r\n          description: res.description,\r\n          isMain: res.isMain\r\n        };\r\n\r\n        // Add the newly uploaded photo to the photos array\r\n        this.photos.push(photo);\r\n\r\n        // In our API PhotosController.AddPhotoForUser, we are checking to see if\r\n        // the user has already a main photo.  If there is no main photo, for example\r\n        // it is the first photo uploaded by the user, then the API will set the\r\n        // newly uploaded photo as the main photo.  So, if the newly uploaded photo\r\n        // is successful, then we can check if it is the main photo\r\n        if (photo.isMain) {\r\n\r\n          // We will then emit the photo URL to be consumed by the parent member-edit.component.ts\r\n          // or we can also say this.authService.changeMemberPhoto(photo.url) although I placed\r\n          // this on member-edit.component.ts -> updateMainPhoto(photoUrl)\r\n          this.getMemberPhotoChange.emit(photo.url);\r\n\r\n          // We will save the new photo url in the local storage so that the same main\r\n          // photo will be shown even when the user refreshes the page, we are finishing\r\n          // the 'user' information in the local storage in the app.component.ts -> ngOnInit()\r\n          this.authService.currentUser.photoUrl = photo.url;\r\n          localStorage.setItem('user', JSON.stringify(this.authService.currentUser));\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  setMainPhoto(photo: Photo) {\r\n    this.userService.setMainPhoto(this.authService.decodedToken.nameid, photo.id)\r\n      .subscribe(() => {\r\n        // We need to find out which one is the current photo and set it to false\r\n        // and we will set the current photo selected to be the main photo. In that way\r\n        // we are going to instantly reflect what is going on when the user sets the\r\n        // main photo.\r\n        // We need to access the current main photo by using the array filter method\r\n        // to filter out photos and assign the main photo to the currentMain field\r\n        this.currentMain = this.photos.filter(f => f.isMain === true)[0];\r\n        this.currentMain.isMain = false;\r\n        photo.isMain = true;\r\n\r\n        // We will then emit the photo URL to be consumed by the parent member-edit.component.ts\r\n        // or we can also say this.authService.changeMemberPhoto(photo.url) although I placed\r\n        // this on member-edit.component.ts -> updateMainPhoto(photoUrl)\r\n        this.getMemberPhotoChange.emit(photo.url);\r\n\r\n        // We will save the new photo url in the local storage so that the same main\r\n        // photo will be shown even when the user refreshes the page, we are finishing\r\n        // the 'user' information in the local storage in the app.component.ts -> ngOnInit()\r\n        this.authService.currentUser.photoUrl = photo.url;\r\n        localStorage.setItem('user', JSON.stringify(this.authService.currentUser));\r\n\r\n      }, error => {\r\n        this.alertify.error(error);\r\n      });\r\n  }\r\n\r\n  deletePhoto(id: number) {\r\n    // The second parameter of the this.alertify.confirm method is an 'OK' callback\r\n    this.alertify.confirm('Are you sure you want to delete this photo?', () => {\r\n      this.userService.deletePhoto(this.authService.decodedToken.nameid, id)\r\n        .subscribe(() => {\r\n          // We will now remove the delete photo from our photos array\r\n          // First we need to find the index of the photo we are deleting and then\r\n          // next is indicate how many are we deleting\r\n          this.photos.splice(this.photos.findIndex(f => f.id === id), 1);\r\n          this.alertify.success('Photo has been successfully deleted.');\r\n        }, () => {\r\n          this.alertify.error('Failed to delete the photo.');\r\n        });\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"table {\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\n.img-circle {\\r\\n    max-height: 50px;\\r\\n}\\r\\n\\r\\ntd {\\r\\n    vertical-align: middle;\\r\\n}\"","module.exports = \"<div class=\\\"container mt-5\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"btn-group\\\">\\n      <button class=\\\"btn btn-primary\\\" \\n        [(ngModel)]=\\\"messageContainer\\\"\\n        btnRadio=\\\"Unread\\\" \\n        (click)=\\\"loadMessages()\\\">\\n        <i class=\\\"fa fa-envelope\\\"></i>\\n        UnRead\\n      </button>\\n      <button class=\\\"btn btn-primary\\\"\\n        [(ngModel)]=\\\"messageContainer\\\"\\n        btnRadio=\\\"Inbox\\\"\\n        (click)=\\\"loadMessages()\\\">\\n        <i class=\\\"fa fa-paper-open\\\"></i>\\n        Inbox\\n      </button>\\n      <button class=\\\"btn btn-primary\\\"\\n        [(ngModel)]=\\\"messageContainer\\\"\\n        btnRadio=\\\"Outbox\\\"\\n        (click)=\\\"loadMessages()\\\">\\n        <i class=\\\"fa fa-paper-plane\\\"></i>\\n        Outbox\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\" *ngIf=\\\"messages.length == 0\\\">\\n    <h3>No messages</h3>\\n  </div>\\n\\n  <div class=\\\"row\\\" *ngIf=\\\"messages.length > 0\\\">\\n    <table class=\\\"table table-hover\\\" style=\\\"cursor: pointer\\\">\\n      <tr>\\n        <th style=\\\"width: 40%\\\">Message</th>\\n        <th style=\\\"width: 20%\\\">From / To</th>\\n        <th style=\\\"width: 20%\\\">Sent / Received</th>\\n        <th style=\\\"width: 20%\\\"></th>\\n      </tr>\\n      <!--\\n        Each table row is clickable with router link in which, if the \\n        messageContainer == 'Outbox', then it will send them to the \\n        /members/<recipientId>\\n          We are adding [queryParams]=\\\"{tab: 3}\\\" so that our URL will \\n          have a query string and will look like http://localhost:4200/members/14?tab=3\\n          We need this query string so that we can redirect the tab focus\\n          to the Messages tab when we click each message row\\n      -->\\n      <tr *ngFor=\\\"let message of messages\\\" \\n        [routerLink]=\\\"['/members', messageContainer == 'Outbox' ? message.recipientId : message.senderId]\\\"\\n        [queryParams]=\\\"{tab: 3}\\\">\\n        <td>{{message.content}}</td>\\n        <td>\\n          <div *ngIf=\\\"messageContainer != 'Outbox'\\\">\\n            <img src={{message?.senderPhotoUrl}} class=\\\"img-circle rounded-circle mr-1\\\">\\n            <strong>{{message.senderKnownAs}}</strong>\\n          </div>\\n          <div *ngIf=\\\"messageContainer == 'Outbox'\\\">\\n            <img src={{message?.recipientPhotoUrl}} class=\\\"img-circle rounded-circle mr-1\\\">\\n            <strong>{{message.recipientKnownAs}}</strong>\\n          </div>\\n        </td>\\n        <td>{{message.messageSent | timeAgo}}</td>\\n        <td>\\n          <!--\\n            For this table row, we are adding a router link\\n            [routerLink]=\\\"['/members', messageContainer == 'Outbox' ? message.recipientId : message.senderId]\\\"\\n            which redirect us to the member page if we do a click event to \\n            any object in this row.  But, we don't want to do that in the delete flow.\\n            So, we will add another click event which is the (click)=\\\"$event.stopPropagation()\\\"\\n          -->\\n          <button class=\\\"btn btn-danger\\\" \\n            (click)=\\\"$event.stopPropagation()\\\" \\n            (click)=\\\"deleteMessage(message.id)\\\">\\n            Delete\\n          </button>\\n        </td>\\n      </tr>      \\n    </table>\\n  </div>\\n</div>\\n\\n<div class=\\\"d-flex justify-content-center\\\">\\n  <pagination [boundaryLinks]=\\\"true\\\"\\n              [totalItems]=\\\"pagination.totalItems\\\"\\n              [itemsPerPage]=\\\"pagination.itemsPerPage\\\"\\n              [(ngModel)]=\\\"pagination.currentPage\\\"\\n              (pageChanged)=\\\"pageChanged($event)\\\"\\n              previousText=\\\"&lsaquo;\\\" nextText=\\\"&rsaquo;\\\" firstText=\\\"&laquo;\\\" lastText=\\\"&raquo;\\\">\\n  </pagination>\\n</div>\"","import { PaginatedResult } from './../_models/pagination';\nimport { AlertifyService } from './../_services/alertify.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { AuthService } from './../_services/auth.service';\nimport { UserService } from './../_services/user.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Message } from '../_models/message';\nimport { Pagination } from '../_models/pagination';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n\n  messages: Message[];\n  pagination: Pagination;\n  messageContainer = 'Unread';\n\n  constructor(private userService: UserService, private authService: AuthService,\n    private route: ActivatedRoute, private alertify: AlertifyService) { }\n\n  ngOnInit() {\n    // We are going to pass the data to the route and retrieve the data from the route\n    // resolver itself so that there is no way this component will be loaded without\n    // the data available.\n    // This will prevent messages.component.html from using elvies / ? / safe navigation operator\n    // to fix the error ERROR TypeError: Cannot read property 'knownAs' of undefined\n    // We are now getting the data from the 'route' itself as defined in the routes.ts\n    // for the messages.component.ts (MessagesComponent) which is assigned to the\n    // messages.resolver.ts (MessagesResolver) where success['messages'] is the property\n    // name that we gave in the routes.ts.\n    this.route.data.subscribe(success => {\n      this.messages = success['messages'].result;\n      this.pagination = success['messages'].pagination;\n    });\n  }\n\n  // This is for the pagination and is copied from https://valor-software.com/ngx-bootstrap/#/pagination\n  pageChanged(event: any): void {\n    this.pagination.currentPage = event.page;\n    this.loadMessages();\n  }\n\n  loadMessages() {\n    this.userService.getMessages(this.authService.decodedToken.nameid,\n      this.pagination.currentPage, this.pagination.itemsPerPage, this.messageContainer)\n      .subscribe(\n        (res: PaginatedResult<Message[]>) => {\n          this.messages = res.result;\n          this.pagination = res.pagination;\n        }, error => {\n          this.alertify.error(error);\n        }\n      );\n  }\n\n  deleteMessage(id: number) {\n    // We are giving the user to confirm if they will proceed on deleting the\n    // message or not\n    // We added the callback function () => {}\n    this.alertify.confirm('Are you sure you want to delete this message', () => {\n      // We added an anonymous function () => {} since we are not getting anything back\n      // from this function\n      this.userService.deleteMessage(id, this.authService.decodedToken.nameid).subscribe(() => {\n        // We need to remove the message immediately from the browser view that\n        // the user gonna see.  That means we are going to use the javascript 'splice'\n        // method to do so.\n        // We will find the index of the messages array and we will delete only 1 message\n        this.messages.splice(this.messages.findIndex(m => m.id === id), 1);\n        this.alertify.success('Message has been deleted.');\n      }, () => {\n        this.alertify.error('Failed to delete the message.');\n      });\n    });\n  }\n}\n","module.exports = \".dropdown-toggle, .dropdown-item{\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\nimg{\\r\\n  max-height: 50px;\\r\\n  border: 2px solid white;\\r\\n  display: inline;\\r\\n}\\r\\n\"","module.exports = \"<nav class=\\\"navbar navbar-expand-md navbar-dark bg-primary\\\">\\r\\n\\r\\n  <div class=\\\"container\\\">\\r\\n\\r\\n    <a class=\\\"navbar-brand\\\" [routerLink]=\\\"['/home']\\\">Dating App</a>\\r\\n\\r\\n    <ul *ngIf=\\\"loggedIn()\\\" class=\\\"navbar-nav mr-auto\\\">\\r\\n      <!--The routerLinkActive=\\\"active\\\" makes use of the .active bootstrap class-->\\r\\n      <li class=\\\"nav-item active\\\" routerLinkActive=\\\"active\\\">\\r\\n        <!--Add a router link based on the routes specified in routes.ts-->\\r\\n        <a class=\\\"nav-link\\\" [routerLink]=\\\"['/members']\\\">Matches</a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\">\\r\\n        <a class=\\\"nav-link\\\" [routerLink]=\\\"['/list']\\\">Lists</a>\\r\\n      </li>\\r\\n      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\">\\r\\n        <a class=\\\"nav-link\\\" [routerLink]=\\\"['/messages']\\\">Messages</a>\\r\\n      </li>\\r\\n    </ul>\\r\\n\\r\\n    <!--\\r\\n      Copied from https://getbootstrap.com/docs/4.1/components/dropdowns/\\r\\n\\r\\n      We will use a structural directive *ngIf to determine if the user has loggedIn().  This will change the DOM.\\r\\n\\r\\n      We also specified the 'dropdown', 'dropdownToggle', and '*dropdownMenu'\\r\\n      directive from ngx-boostrap package\\r\\n  -->\\r\\n    <div *ngIf=\\\"loggedIn()\\\" class=\\\"dropdown\\\" dropdown>\\r\\n      <span class=\\\"mr-1\\\">\\r\\n        <img src=\\\"{{photoUrl || '../../assets/user.png'}}\\\" />\\r\\n      </span>\\r\\n      <a class=\\\"dropdown-toggle text-light\\\"\\r\\n         dropdownToggle (click)=\\\"false\\\">\\r\\n        <!--Add a pipe titlecase which converts the output into title case-->\\r\\n        Welcome {{authService.decodedToken?.unique_name | titlecase}}\\r\\n      </a>\\r\\n\\r\\n      <div class=\\\"dropdown-menu mt-3\\\" *dropdownMenu>\\r\\n        <a class=\\\"dropdown-item\\\" [routerLink]=\\\"['/member/edit']\\\">\\r\\n          <i class=\\\"fa fa-user\\\"></i> Edit Profile\\r\\n        </a>\\r\\n        <div class=\\\"dropdown-divider\\\"></div>\\r\\n        <!--If we remove the href=\\\"\\\", the cursor will be change as text cursor instead of pointer-->\\r\\n        <a class=\\\"dropdown-item\\\" (click)=\\\"logOut()\\\">\\r\\n          <i class=\\\"fa fa-sign-out\\\"></i> Logout\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!--\\r\\n        We will convert this html form into Angular form.  There are two types of form in Angular: template and reactive.\\r\\n        For now, we will use template\\r\\n        We will create a \\\"template reference variable\\\" by using the pound/hash sign. Ex. #loginForm, #modelUsername,\\r\\n        #modelPassword. The character ' - ' is not allowed. Ex. model-username.\\r\\n        We use #modelUsername or #modelPassword if we need to get its states.  We can just\\r\\n        remove that if we don't need to refer the input fields\\r\\n        Ex:\\r\\n          Username Valid: {{modelUsername.valid}}\\r\\n          Username Touched: {{modelUsername.touched}}\\r\\n          Username Dirty: {{modelUsername.dirty}}\\r\\n          Username Values: {{modelUsername.value | json}}\\r\\n        We also need a two-way binding from our template (html) to our component (ts).  And in order to do that, we need\\r\\n        to use a directive called the ngModel directive [(ngModel)]=\\\"binding\\\".\\r\\n        We also need a way for the users to submit the form, so for this, we need the (ngSubmit) event.  We will add it on\\r\\n        the form level instead of the button.\\r\\n  -->\\r\\n    <form *ngIf=\\\"!loggedIn()\\\" #loginForm=\\\"ngForm\\\" class=\\\"form-inline my-2 my-lg-0\\\" (ngSubmit)=\\\"login()\\\">\\r\\n      <input class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\" name=\\\"input-username\\\"\\r\\n             placeholder=\\\"Username\\\" required [(ngModel)]=\\\"model.username\\\" #modelUsername=\\\"ngModel\\\" />\\r\\n      <input class=\\\"form-control mr-sm-2\\\" type=\\\"password\\\" name=\\\"input-password\\\"\\r\\n             placeholder=\\\"Password\\\" required [(ngModel)]=\\\"model.password\\\" #modelPassword=\\\"ngModel\\\" />\\r\\n      <!--\\r\\n      We will make the button disabled once the form is not valid by getting the loinForm.valid value\\r\\n    -->\\r\\n      <button [disabled]=\\\"!loginForm.valid\\\" class=\\\"btn btn-success my-2 my-sm-0\\\" type=\\\"submit\\\">Login</button>\\r\\n    </form>\\r\\n\\r\\n  </div> \\r\\n\\r\\n</nav>\\r\\n\\r\\n<!--\\r\\n<pre>\\r\\n  Form Valid: {{loginForm.valid}}\\r\\n  Form Touched: {{loginForm.touched}}\\r\\n  Form Dirty: {{loginForm.dirty}}\\r\\n  Form Values: {{loginForm.value | json}}\\r\\n  Username Valid: {{modelUsername.valid}}\\r\\n  Username Touched: {{modelUsername.touched}}\\r\\n  Username Dirty: {{modelUsername.dirty}\\r\\n  Username Values: {{modelUsername.value | json}}\\r\\n  Password Valid: {{modelPassword.valid}}\\r\\n  Password Touched: {{modelPassword.touched}}\\r\\n  Password Dirty: {{modelPassword.dirty}}\\r\\n  Password Values: {{modelPassword.value | json}}\\r\\n</pre>\\r\\n-->\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\n// Provides the navigation and url manipulation capabilities\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-nav',\r\n  templateUrl: './nav.component.html',\r\n  styleUrls: ['./nav.component.css']\r\n})\r\nexport class NavComponent implements OnInit {\r\n\r\n  model: any = {};\r\n  photoUrl: string;\r\n\r\n  constructor(private authService: AuthService,\r\n    private alertify: AlertifyService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    // We will subscribe to the 'currentPhotoUrl' observable so that we can\r\n    // set the user photo in the nav bar every time other components like\r\n    // the photo-editor.component.ts changes the user main\r\n    // photo.  Remember, this nav.component.ts is not a parent/child component of\r\n    // the photo-editor.component.ts\r\n    this.authService.currentPhotoUrl.subscribe(returnUrl => {\r\n      this.photoUrl = returnUrl;\r\n    })\r\n  }\r\n\r\n  login() {\r\n    // We will subscribe to the login method which is an observable\r\n    // and we need to do on the next, and error options\r\n    this.authService.login(this.model).subscribe(success => {\r\n      this.alertify.success('Logged in successfully');\r\n    }, error => {\r\n      this.alertify.error(error);\r\n    }, () => {\r\n      // We will use an anonymous function for the 'complete' 3rd parameter of the\r\n      // subscribe method.\r\n      // We will us this to add additional option for our router though we can also\r\n      // achieve the same effect when we will place this code under 'successs' 1st parameter\r\n      // We will be routed to the /members page as defined in the routes.ts\r\n      this.router.navigate(['/members']);\r\n    });\r\n  }\r\n\r\n  loggedIn() {\r\n    //const token = localStorage.getItem('token');\r\n\r\n    // We will use a third party library called angular-jwt to manage the\r\n    // token we stored in the localStorage\r\n    // What we CANNOT DO is to validate the token since the key to validate the\r\n    // token is on the server \\DatingApp.API\\appsettings.json and we don't have\r\n    // access to that in the client application and we don't really need to do that\r\n    // in our client application since the client application is compiled into\r\n    // javascript and since javascript is run on the client-side, we don't want\r\n    // end-users to have access to the validation key\r\n\r\n    // Confusing names: angular 1 is renamed as angularjs\r\n    // and angular 2 is renamed as angular\r\n\r\n    // @auth0/angular-jwt: https://github.com/auth0/angular2-jwt and go for\r\n    // version 2.0.0\r\n\r\n    // If there is a value in this token, then it will return true else it will return false\r\n    //return !!token;\r\n    return this.authService.loggedIn();\r\n  }\r\n\r\n  logOut() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n\r\n    this.authService.decodedToken = null;\r\n    this.authService.currentUser = null;\r\n\r\n    this.alertify.message('Logged out');\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n}\r\n","module.exports = \"\"","module.exports = \"<!--\\r\\n    In our nav.component.html, we are using template reference variable.\\r\\n    For our register.component.html, we will be using reactive forms by\\r\\n    specifying [formGroup]=\\\"registerForm\\\" where \\\"registerForm\\\" is the property\\r\\n    we have created in register.component.ts\\r\\n-->\\r\\n<form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\r\\n  <h2 class=\\\"text-center text-primary\\\">Sign Up</h2>\\r\\n  <hr>\\r\\n\\r\\n  <!--Gender-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <label class=\\\"control-label\\\" style=\\\"margin-right:10px\\\">I am a: </label>\\r\\n    <label class=\\\"radio-inline\\\">\\r\\n      <input class=\\\"mr-3\\\" type=\\\"radio\\\" value=\\\"male\\\" formControlName=\\\"gender\\\">Male\\r\\n    </label>\\r\\n    <label class=\\\"radio-inline ml-3\\\">\\r\\n      <input class=\\\"mr-3\\\" type=\\\"radio\\\" value=\\\"female\\\" formControlName=\\\"gender\\\">Female\\r\\n    </label>\\r\\n  </div>\\r\\n\\r\\n  <!--Username-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <!--\\r\\n      We will remove the 'required' attribute on this element since we will deal with\\r\\n      the validation in the component rather than on the template.\\r\\n\\r\\n      We will also remove the two-way binding [(ngModel)]=\\\"model.username\\\".\\r\\n\\r\\n      Instead of name=\\\"input-username\\\", we will now use formControlName=\\\"username\\\" and this\\r\\n          should match the name we added in\\r\\n\\r\\n          this.registerForm = new FormGroup({\\r\\n            username: new FormControl(),\\r\\n            password: new FormControl(),\\r\\n            confirmPassword: new FormControl()\\r\\n          });\\r\\n\\r\\n      We are also adding validation feedback to our user by using Boostrap classes and\\r\\n          conditionals to display validational errors to the users.  We are adding [ngClass]\\r\\n          which allows us to provide an expression so that we can use wether or not\\r\\n          we will be displaying the bootstrap 'is-invalid' class. We are using the\\r\\n          registerForm.get('username').errors property which means we will only be\\r\\n          showing the 'is-invalid' class if the 'username' control is on error state\\r\\n          based on the Validators we have provided in the register.component.ts.  And\\r\\n          then we used the registerForm.get('username').touched property so that we will\\r\\n          only show the 'is-invalid' class if the control is touched.\\r\\n\\r\\n          Noticed that we did not provide any other logic in the <div class=\\\"invalid-feedback\\\">\\r\\n          because the class 'invalid-feedback' will only show if the 'is-invalid' class is\\r\\n          also applied to our <input> element\\r\\n    -->\\r\\n    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n           [ngClass]=\\\"{'is-invalid': registerForm.get('username').errors\\r\\n           && registerForm.get('username').touched}\\\"\\r\\n           formControlName=\\\"username\\\" placeholder=\\\"Username\\\">\\r\\n    <div class=\\\"invalid-feedback\\\">Please choose a username</div>\\r\\n  </div>\\r\\n\\r\\n  <!--Known As-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <input [ngClass]=\\\"{'is-invalid': registerForm.get('knownAs').errors && registerForm.get('knownAs').touched}\\\" class=\\\"form-control\\\"\\r\\n           placeholder=\\\"Known as\\\" formControlName=\\\"knownAs\\\">\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('knownAs').touched && registerForm.get('knownAs').hasError('required')\\\">Known as is required</div>\\r\\n  </div>\\r\\n\\r\\n  <!--\\r\\n      Date of Birth\\r\\n      We are now using NGX Bootstrap datepicker for this control that is why we need\\r\\n      to change the type=\\\"text\\\" attribute and add the bsDatepicker directive\\r\\n  -->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <input [ngClass]=\\\"{'is-invalid': registerForm.get('dateOfBirth').errors\\r\\n           && registerForm.get('dateOfBirth').touched}\\\"\\r\\n           class=\\\"form-control\\\"\\r\\n           placeholder=\\\"Date of Birth\\\"\\r\\n           formControlName=\\\"dateOfBirth\\\"\\r\\n           type=\\\"text\\\"\\r\\n           bsDatepicker\\r\\n           [bsConfig]=\\\"bsConfig\\\">\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('dateOfBirth').touched && registerForm.get('dateOfBirth').hasError('required')\\\">Date of Birth is required</div>\\r\\n  </div>\\r\\n\\r\\n  <!--City-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <input [ngClass]=\\\"{'is-invalid': registerForm.get('city').errors && registerForm.get('city').touched}\\\" class=\\\"form-control\\\"\\r\\n           placeholder=\\\"City\\\" formControlName=\\\"city\\\">\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('city').touched && registerForm.get('city').hasError('required')\\\">City is required</div>\\r\\n  </div>\\r\\n\\r\\n  <!--Country-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <input [ngClass]=\\\"{'is-invalid': registerForm.get('country').errors && registerForm.get('country').touched}\\\" class=\\\"form-control\\\"\\r\\n           placeholder=\\\"Country\\\" formControlName=\\\"country\\\">\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('country').touched && registerForm.get('country').hasError('required')\\\">Country is required</div>\\r\\n  </div>\\r\\n\\r\\n  <!--Password-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <input type=\\\"password\\\" class=\\\"form-control\\\"\\r\\n           [ngClass]=\\\"{'is-invalid': registerForm.get('password').errors\\r\\n           && registerForm.get('password').touched}\\\"\\r\\n           formControlName=\\\"password\\\" placeholder=\\\"Password\\\">\\r\\n    <!--\\r\\n      We are now using *ngIf do filter what error message are we showing when the\\r\\n        'is-valid' class is added in our <input> element.  We are using the\\r\\n        registerForm.get('password').hasError('required') property where the 'required'\\r\\n          is the the Validators.required we have specified in the register.component.ts\\r\\n\\r\\n          For the minimum length, we need to use *ngIf=\\\"registerForm.get('password').hasError('minlength')\\r\\n          property and noticed we need to use lower-case 'minlegth' even though we are using\\r\\n          camel-cased Validators.minLength(4) in our register.component.ts\\r\\n    -->\\r\\n    <div class=\\\"invalid-feedback\\\"\\r\\n         *ngIf=\\\"registerForm.get('password').hasError('required')\\r\\n         && registerForm.get('password').touched\\\">\\r\\n      Password is required\\r\\n    </div>\\r\\n    <div class=\\\"invalid-feedback\\\"\\r\\n         *ngIf=\\\"registerForm.get('password').hasError('minlength')\\r\\n         && registerForm.get('password').touched\\\">\\r\\n      Password must be at least 4 characters\\r\\n    </div>\\r\\n    <div class=\\\"invalid-feedback\\\"\\r\\n         *ngIf=\\\"registerForm.get('password').hasError('maxlength')\\r\\n         && registerForm.get('password').touched\\\">\\r\\n      Password cannot exceed 8 characters\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!--Confirm Password-->\\r\\n  <div class=\\\"form-group\\\">\\r\\n    <!--\\r\\n        By using the registerForm.hasError('mismatch') property, we are now checking\\r\\n          if the registerForm form group is throwing the error 'mismatch' which matches\\r\\n          the key/value that we have specified in the custom validator\\r\\n          passwordMatchValidator(g: FormGroup) in the register.component.ts\\r\\n    -->\\r\\n    <input type=\\\"password\\\" class=\\\"form-control\\\"\\r\\n           [ngClass]=\\\"{'is-invalid': registerForm.get('confirmPassword').errors\\r\\n           && registerForm.get('confirmPassword').touched\\r\\n           || registerForm.get('confirmPassword').touched\\r\\n           && registerForm.hasError('mismatch')}\\\"\\r\\n           formControlName=\\\"confirmPassword\\\" placeholder=\\\"Confirm Password\\\" />\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('confirmPassword').hasError('required')\\r\\n         && registerForm.get('confirmPassword').touched\\\">Confirm password is required</div>\\r\\n    <div class=\\\"invalid-feedback\\\" *ngIf=\\\"registerForm.get('confirmPassword').touched\\r\\n         && registerForm.hasError('mismatch')\\\">Passwords must match</div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"form-group text-center\\\">\\r\\n    <button class=\\\"btn btn-success mr-2\\\" [disabled]=\\\"!registerForm.valid\\\" type=\\\"submit\\\">Register</button>\\r\\n    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n  </div>\\r\\n\\r\\n</form>\\r\\n\\r\\n<!--Temporary for just debugging-->\\r\\n<!--\\r\\n<p>Form value: {{registerForm.value | json}}</p>\\r\\n<p>Form status: {{registerForm.status | json}}</p>\\r\\n-->\\r\\n\"","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { AuthService } from '../_services/auth.service';\r\nimport { AlertifyService } from '../_services/alertify.service';\r\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap';\r\nimport { User } from '../_models/user';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  // This will allow output from this component which is an emit event\r\n  // and make sure EventEmitter is from @angular/core\r\n  @Output() cancelRegister = new EventEmitter();\r\n\r\n  // We are now swapping this for a strongly typed User object\r\n  //model: any = {};\r\n  user: User;\r\n\r\n  // Tracks the value and validity state of a group of FormControl instances.\r\n  registerForm: FormGroup;\r\n\r\n  // Used for the NGX Boostrap datepicker configuration to add styling\r\n  // We only need to set the theme using the 'containerClass' property but there are\r\n  // other properties in the BsDatepickerConfig class that are not optional.\r\n  // To go around with this, then we need to declare 'bsConfig' as 'Partial' class\r\n  // which means we only need to implement parts of the BsDatepickerConfig class\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  constructor(private authService: AuthService,\r\n    private alertify: AlertifyService, private fb: FormBuilder,\r\n    private router: Router) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.bsConfig = {\r\n      containerClass: 'theme-red'\r\n    };\r\n\r\n    // Create the register form in the ngOnInit() life cycle\r\n    // which takes form controls and out-of-the-box validators as well\r\n    // This is another way of creating a form\r\n    //this.registerForm = new FormGroup({\r\n    //  username: new FormControl('', Validators.required),\r\n    //  password: new FormControl('', [Validators.required, Validators.minLength(4),\r\n    //  Validators.maxLength(8)]),\r\n    //  confirmPassword: new FormControl('', Validators.required)\r\n    //}, this.passwordMatchValidator);\r\n\r\n    this.createRegisterForm();\r\n  }\r\n\r\n  // Create a registration form using FormBuilder\r\n  createRegisterForm() {\r\n    this.registerForm = this.fb.group({\r\n      gender: ['male'],\r\n      username: ['', Validators.required],\r\n      knownAs: ['', Validators.required],\r\n      dateOfBirth: [null, Validators.required],\r\n      city: ['', Validators.required],\r\n      country: ['', Validators.required],\r\n      password: ['', [Validators.required, Validators.minLength(4),\r\n        Validators.maxLength(8)]],\r\n      confirmPassword: ['', Validators.required]\r\n    }, {\r\n        validator: this.passwordMatchValidator\r\n      });\r\n  }\r\n\r\n  // Custom validator that checks if the password matches\r\n  passwordMatchValidator(g: FormGroup) {\r\n    return g.get('password').value === g.get('confirmPassword').value ? null\r\n      : { 'mismatch': true };\r\n  }\r\n\r\n  register() {\r\n\r\n    // Since we are using reactive forms now, then we can check if the register form\r\n    // is in a valid state\r\n    if (this.registerForm.valid) {\r\n      // We will get the values in our register form and we will pass it to the\r\n      // user object by using Object.assign which copies the values of all\r\n      // enumerable own properties from one or more source objects to a\r\n      // target object.\r\n      this.user = Object.assign({}, this.registerForm.value);\r\n\r\n      // We will now register the user\r\n      this.authService.register(this.user).subscribe(() => {\r\n        this.alertify.success('Registration successful');\r\n      }, error => {\r\n        this.alertify.error(error);\r\n      }, () => {\r\n        // The third part of the subscribe method is what to do on complete\r\n        // and on complete, we will automatically\r\n        // log-in the user once they have successful registered\r\n        this.authService.login(this.user).subscribe(() => {\r\n          this.router.navigate(['/members']);\r\n        });\r\n      });\r\n    }\r\n\r\n    //// For the 'success' and 'error' parameter, we will just use empty () since we are not using anything\r\n    //// from this response\r\n    //this.authService.register(this.model).subscribe(() => {\r\n    //  this.alertify.success('Registration successful');\r\n    //}, error => {\r\n    //  // This will be the http response that we will get back from the server\r\n    //  // Typical error configured is a Bad Request that we set in \\DatingApp.API\\Controllers\\AuthController.cs\r\n    //  // RegisterNewUser method or model state validations (required, string length) that we\r\n    //  // set on \\DatingApp.API\\Dtos\\UserForRegisterDto.cs\r\n    //  this.alertify.error(error);\r\n    //});\r\n\r\n    //console.log(this.registerForm.value);\r\n  }\r\n\r\n  cancel() {\r\n\r\n    // We are just emitting a simple boolean value but this can be any value, or object, or data\r\n    this.cancelRegister.emit(false);\r\n  }\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { MemberListComponent } from './members/member-list/member-list.component';\r\nimport { MessagesComponent } from './messages/messages.component';\r\nimport { ListComponent } from './list/list.component';\r\nimport { AuthGuard } from './_guards/auth.guard';\r\nimport { MemberDetailComponent } from './members/member-detail/member-detail.component';\r\nimport { MemberDetailResolver } from './_resolver/member-detail.resolver';\r\nimport { MemberListResolver } from './_resolver/member-list.resolver';\r\nimport { MemberEditComponent } from './members/member-edit/member-edit.component';\r\nimport { MemberEditResolver } from './_resolver/member-edit.resolver';\r\nimport { PreventUnsavedChangesGuard } from './_guards/prevent-unsaved-changes.guard';\r\nimport { ListsResolver } from './_resolver/lists.resolver';\r\nimport { MessagesResolver } from './_resolver/messages.resolver';\r\n\r\nexport const appRoutes: Routes = [\r\n  // When the user is adding a url, or clicks on a link, or adding some path to the\r\n  // url, then the router will attempt to match one of these routes and it keeps going\r\n  // down to this list attempting to match to the url.  If nothing matches this path,\r\n  // then it gonna use the wild card and it's gonna redirect to home.  So, the ordering\r\n  // of these routes is important.\r\n\r\n  // Instead of using 'home', we will just use '' so that when a user paste the url\r\n  // localhost:4200, then the user will be redirected to the home component\r\n  { path: '', component: HomeComponent },\r\n  // Add a dummy route so that we can guard multiple child routes\r\n  {\r\n    path: '',\r\n    runGuardsAndResolvers: 'always',\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      {\r\n        path: 'members', component: MemberListComponent,\r\n        resolve: { users: MemberListResolver }\r\n      },\r\n      // :id -- is how we specify the parameter of the route\r\n      // The resolver will return a single type 'user' as define in the member-detail.resolver.ts\r\n      {\r\n        path: 'members/:id', component: MemberDetailComponent,\r\n        resolve: { user: MemberDetailResolver }\r\n      },\r\n      // We will not pass the Id for the member that we want to edit\r\n      // Instead, we will use the decoded token for whoever is logging in\r\n      {\r\n        path: 'member/edit', component: MemberEditComponent,\r\n        resolve: { user: MemberEditResolver },\r\n        canDeactivate: [PreventUnsavedChangesGuard]\r\n      },\r\n      {\r\n        path: 'messages', component: MessagesComponent ,\r\n        resolve: { messages: MessagesResolver }\r\n      },\r\n      {\r\n        path: 'list', component: ListComponent,\r\n        resolve: { users: ListsResolver }\r\n      }\r\n    ]\r\n  },\r\n  // redirect to the full path of the home URL\r\n  { path: '**', redirectTo: '', pathMatch: 'full' }\r\n];\r\n\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:5000/api/'\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\n// Imported from Angular which means we are making a Web application that\n// runs on a browser which bootstraps the AppModule which in turn bootstraps the AppComponent and then\n// the AppComponent loads the html on the page.\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n// How does the main.ts file goes into our index.html ???  Our index.html does not have scripts tags inside it ???\n// This is where the Angular magic comes in and uses a very popular tool called WebPack.\n// WebPack is a module bundler and a task runner at the same time and it will bundle our application\n// into javascript and at the same time injects this javascript into our index.html file when it builds it.\n// The configuration for WebPack can be found under angular.json\n// When you inspect index.html in the browser, you will see runtime.js, polyfills.js, styles.js, vendor.js,\n// main.js which is the javascript bundled by WebPack since browser does not understand TypeScripts\n"],"sourceRoot":""}